{"version":3,"sources":["webpack:///../node_modules/src/ng-select/lib/value-utils.ts","webpack:///../node_modules/src/ng-select/lib/ng-templates.directive.ts","webpack:///../node_modules/src/ng-select/lib/console.service.ts","webpack:///../node_modules/src/ng-select/lib/id.ts","webpack:///../node_modules/src/ng-select/lib/search-helper.ts","webpack:///../node_modules/src/ng-select/lib/items-list.ts","webpack:///../node_modules/src/ng-select/lib/ng-select.types.ts","webpack:///../node_modules/src/ng-select/lib/ng-dropdown-panel.service.ts","webpack:///../node_modules/src/ng-select/lib/ng-dropdown-panel.component.ts","webpack:///../node_modules/src/ng-select/lib/ng-option.component.ts","webpack:///../node_modules/src/ng-select/lib/config.service.ts","webpack:///../node_modules/src/ng-select/lib/ng-select.component.ts","webpack:///../node_modules/src/ng-select/lib/selection-model.ts","webpack:///../node_modules/src/ng-select/lib/ng-select.module.ts"],"names":["unescapedHTMLExp","hasUnescapedHTMLExp","RegExp","source","htmlEscapes","'","isDefined","value","isObject","isFunction","Function","NgItemLabelDirective","element","escape","changes","string","this","nativeElement","innerHTML","ngItemLabel","test","replace","chr","selector","NgOptionTemplateDirective","template","NgOptgroupTemplateDirective","NgLabelTemplateDirective","NgMultiLabelTemplateDirective","NgHeaderTemplateDirective","NgFooterTemplateDirective","NgNotFoundTemplateDirective","NgTypeToSearchTemplateDirective","NgLoadingTextTemplateDirective","NgTagTemplateDirective","NgLoadingSpinnerTemplateDirective","ConsoleService","message","console","warn","newId","_","Math","random","toString","providedIn","diacritics","stripSpecialChars","text","a","ItemsList","_ngSelect","_selectionModel","_items","_filteredItems","_markedIndex","hideSelected","length","selectedItems","multiple","maxSelectedItems","i","item","disabled","items","map","index","mapItem","groupBy","_groups","_groupBy","_flatten","Map","set","undefined","selected","maxItemsSelected","clearSelected","select","selectableGroupAsModel","_hideSelected","unselect","_showSelected","findBy","compareWith","bindValue","children","resolveNested","label","bindLabel","find","option","push","keepDisabled","clear","forEach","marked","resetFilteredItems","term","searchHelper.stripSpecialChars","toLocaleLowerCase","filteredItems","substr","searchFn","match","_defaultSearchFn","key","Array","from","keys","matchedItems","get","parent","last","slice","head","x","filter","_stepToItem","indexOf","markDefault","lastMarkedIndex","_getLastMarkedIndex","findIndex","split","len","$ngOptionLabel","$ngOptionValue","htmlId","dropdownId","findItem","child","sort","b","every","search","opt","steps","_getNextItemIndex","markedItem","selectedIndex","lastSelectedItem","max","markedIndex","prop","groups","isArray","isFnKey","keyFn","group","isGroupByFn","withoutGroup","isObjectKey","String","selectableGroup","groupKey","groupValue","KeyCode","NgDropdownPanelService","_dimensions","itemHeight","panelHeight","itemsPerViewport","scrollPos","itemsLength","buffer","d","scrollHeight","indexByScrollTop","end","min","ceil","maxStartEnd","maxStart","start","floor","topPadding","isNaN","itemTop","lastScroll","dimensions","itemBottom","bottom","SCROLL_SCHEDULER","requestAnimationFrame","NgDropdownPanelComponent","_renderer","_zone","_panelService","_elementRef","_document","position","virtualScroll","filterValue","update","scroll","scrollToEnd","outsideClick","_destroy$","_scrollToEndFired","_updateScrollHeight","_lastScrollPosition","_dropdown","_currentPosition","_itemsLength","_onItemsLengthChanged","offset","$event","target","tagName","preventDefault","_select","parentElement","_virtualPadding","paddingElementRef","_scrollablePanel","scrollElementRef","_contentPanel","contentElementRef","_handleScroll","_handleOutsideClick","_appendDropdown","change","_onItemsChange","currentValue","firstChange","next","complete","unsubscribe","appendTo","removeChild","parentNode","startFromOption","scrollTo","getScrollTo","querySelector","offsetTop","clientHeight","scrollTop","panel","_updateYPosition","_calculateCurrentPosition","addClass","removeClass","style","opacity","runOutsideAngular","pipe","subscribe","e","path","composedPath","_onContentScrolled","capture","_checkToClose","contains","shadowRoot","run","emit","_updateItemsRange","_setVirtualHeight","_updateItems","Promise","resolve","then","setDimensions","_handleDropdownPosition","_measureDimensions","_renderItemsRange","_startOffset","_fireScrollToEnd","height","range","calculateItems","bufferAmount","_updateVirtualHeight","transform","first","optionHeight","padding","dropdownEl","selectRect","getBoundingClientRect","document","documentElement","body","top","window","pageYOffset","_parent","Error","_updateXPosition","appendChild","offsetLeft","left","width","minWidth","delta","offsetBottom","changeDetection","OnPush","encapsulation","None","read","static","NgOptionComponent","elementRef","stateChange$","_disabled","_isDisabled","textContent","trim","_previousLabel","NgSelectConfig","notFoundText","typeToSearchText","addTagText","loadingText","clearAllText","disableVirtualScroll","openOnEnter","appearance","SELECTION_MODEL_FACTORY","NgSelectComponent","classes","autoFocus","config","newSelectionModel","_cd","_console","markFirst","dropdownPosition","loading","closeOnSelect","selectOnTab","trackByFn","clearOnBackspace","labelForId","inputAttrs","readonly","searchWhileComposing","minTermLength","editableSearchTerm","keyDownFn","addTag","searchable","clearable","isOpen","blurEvent","focusEvent","changeEvent","openEvent","closeEvent","searchEvent","clearEvent","addEvent","removeEvent","viewPortItems","searchTerm","escapeHTML","useDefaultClass","_defaultLabel","_pressedKeys","_isComposing","_keyPress$","_onChange","_onTouched","clearItem","trackByOption","_mergeGlobalConfig","itemsList","_itemsAreUsed","_compareWith","fn","_clearSearchOnAdd","dropdownPanel","currentPosition","_handleKeyPresses","_setInputAttributes","_setItems","_manualOpen","_setItemsFromNgOptions","focus","which","handleKeyCode","ArrowDown","_handleArrowDown","ArrowUp","_handleArrowUp","Space","_handleSpace","Enter","_handleEnter","Tab","_handleTab","Esc","close","Backspace","_handleBackspace","classList","handleClearClick","handleArrowClick","focused","open","toggle","hasValue","_updateNgModel","_clearSearch","_onSelectionChanged","_handleWriteValue","markForCheck","state","_isTypeahead","noItemsToSelect","markSelectedOrDefault","detectChanges","_editableSearchTerm","unmarkItem","_setSearchTermFromItems","clearSearchOnAdd","searchInput","blur","tag","_primitive","handleTag","addItem","catch","_validTerm","toLowerCase","some","empty","showAddTag","typeahead","add","remove","markItem","destroyed","firstItem","setItems","mapSelectedItems","mapNgOptions","options","handleOptionChange","changedOrDestroyed","ngOptions","validateBinding","JSON","stringify","ngModel","_isValidWriteValue","val","isValObject","isPrimitive","letter","join","findByLabel","_scrollToMarked","input","attributes","type","autocorrect","autocapitalize","autocomplete","Object","setAttribute","model","_changeSearch","scrollToTag","adjustPosition","toggleItem","selectTag","_nextItemIsTag","_scrollToTag","markNextItem","markPreviousItem","nextStep","nextIndex","clearModel","observers","placeholder","providers","provide","useExisting","multi","host","descendants","DefaultSelectionModel","_selected","groupAsModel","childrenCount","selectedCount","_setChildrenSelectedState","_removeChildren","_activeChildren","_removeParent","NgSelectModule","declarations","imports","exports","useValue"],"mappings":"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ACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,I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","file":"kpi-overview-runtime-widget-vendors~30536edd.edd64d774274cc93dcc5.js","sourcesContent":["const unescapedHTMLExp = /[&<>\"']/g;\nconst hasUnescapedHTMLExp = RegExp(unescapedHTMLExp.source);\nconst htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n};\n\nexport function escapeHTML(string: string) {\n    return (string && hasUnescapedHTMLExp.test(string)) ?\n        string.replace(unescapedHTMLExp, chr => htmlEscapes[chr]) :\n        string;\n}\n\nexport function isDefined(value: any) {\n    return value !== undefined && value !== null;\n}\n\nexport function isObject(value: any) {\n    return typeof value === 'object' && isDefined(value);\n}\n\nexport function isPromise(value: any) {\n    return value instanceof Promise;\n}\n\nexport function isFunction(value: any) {\n    return value instanceof Function;\n}\n","import { Directive, ElementRef, Input, OnChanges, SimpleChanges, TemplateRef } from '@angular/core';\nimport { escapeHTML } from './value-utils';\n\n@Directive({ selector: '[ngItemLabel]' })\nexport class NgItemLabelDirective implements OnChanges {\n    @Input() ngItemLabel: string;\n    @Input() escape = true;\n\n    constructor(private element: ElementRef<HTMLElement>) { }\n\n    ngOnChanges(changes: SimpleChanges) {\n        this.element.nativeElement.innerHTML = this.escape ?\n            escapeHTML(this.ngItemLabel) :\n            this.ngItemLabel;\n    }\n}\n\n@Directive({ selector: '[ng-option-tmp]' })\nexport class NgOptionTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-optgroup-tmp]' })\nexport class NgOptgroupTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-label-tmp]' })\nexport class NgLabelTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-multi-label-tmp]' })\nexport class NgMultiLabelTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-header-tmp]' })\nexport class NgHeaderTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-footer-tmp]' })\nexport class NgFooterTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-notfound-tmp]' })\nexport class NgNotFoundTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-typetosearch-tmp]' })\nexport class NgTypeToSearchTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-loadingtext-tmp]' })\nexport class NgLoadingTextTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-tag-tmp]' })\nexport class NgTagTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({ selector: '[ng-loadingspinner-tmp]' })\nexport class NgLoadingSpinnerTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class ConsoleService {\n    warn(message: string) {\n        console.warn(message)\n    }\n}\n","export function newId() {\n    // First character is an 'a', it's good practice to tag id to begin with a letter\n    return 'axxxxxxxxxxx'.replace(/[x]/g, function (_) {\n        // tslint:disable-next-line:no-bitwise\n        const val = Math.random() * 16 | 0;\n        return val.toString(16);\n    });\n}\n","const diacritics = {\n    '\\u24B6': 'A',\n    '\\uFF21': 'A',\n    '\\u00C0': 'A',\n    '\\u00C1': 'A',\n    '\\u00C2': 'A',\n    '\\u1EA6': 'A',\n    '\\u1EA4': 'A',\n    '\\u1EAA': 'A',\n    '\\u1EA8': 'A',\n    '\\u00C3': 'A',\n    '\\u0100': 'A',\n    '\\u0102': 'A',\n    '\\u1EB0': 'A',\n    '\\u1EAE': 'A',\n    '\\u1EB4': 'A',\n    '\\u1EB2': 'A',\n    '\\u0226': 'A',\n    '\\u01E0': 'A',\n    '\\u00C4': 'A',\n    '\\u01DE': 'A',\n    '\\u1EA2': 'A',\n    '\\u00C5': 'A',\n    '\\u01FA': 'A',\n    '\\u01CD': 'A',\n    '\\u0200': 'A',\n    '\\u0202': 'A',\n    '\\u1EA0': 'A',\n    '\\u1EAC': 'A',\n    '\\u1EB6': 'A',\n    '\\u1E00': 'A',\n    '\\u0104': 'A',\n    '\\u023A': 'A',\n    '\\u2C6F': 'A',\n    '\\uA732': 'AA',\n    '\\u00C6': 'AE',\n    '\\u01FC': 'AE',\n    '\\u01E2': 'AE',\n    '\\uA734': 'AO',\n    '\\uA736': 'AU',\n    '\\uA738': 'AV',\n    '\\uA73A': 'AV',\n    '\\uA73C': 'AY',\n    '\\u24B7': 'B',\n    '\\uFF22': 'B',\n    '\\u1E02': 'B',\n    '\\u1E04': 'B',\n    '\\u1E06': 'B',\n    '\\u0243': 'B',\n    '\\u0182': 'B',\n    '\\u0181': 'B',\n    '\\u24B8': 'C',\n    '\\uFF23': 'C',\n    '\\u0106': 'C',\n    '\\u0108': 'C',\n    '\\u010A': 'C',\n    '\\u010C': 'C',\n    '\\u00C7': 'C',\n    '\\u1E08': 'C',\n    '\\u0187': 'C',\n    '\\u023B': 'C',\n    '\\uA73E': 'C',\n    '\\u24B9': 'D',\n    '\\uFF24': 'D',\n    '\\u1E0A': 'D',\n    '\\u010E': 'D',\n    '\\u1E0C': 'D',\n    '\\u1E10': 'D',\n    '\\u1E12': 'D',\n    '\\u1E0E': 'D',\n    '\\u0110': 'D',\n    '\\u018B': 'D',\n    '\\u018A': 'D',\n    '\\u0189': 'D',\n    '\\uA779': 'D',\n    '\\u01F1': 'DZ',\n    '\\u01C4': 'DZ',\n    '\\u01F2': 'Dz',\n    '\\u01C5': 'Dz',\n    '\\u24BA': 'E',\n    '\\uFF25': 'E',\n    '\\u00C8': 'E',\n    '\\u00C9': 'E',\n    '\\u00CA': 'E',\n    '\\u1EC0': 'E',\n    '\\u1EBE': 'E',\n    '\\u1EC4': 'E',\n    '\\u1EC2': 'E',\n    '\\u1EBC': 'E',\n    '\\u0112': 'E',\n    '\\u1E14': 'E',\n    '\\u1E16': 'E',\n    '\\u0114': 'E',\n    '\\u0116': 'E',\n    '\\u00CB': 'E',\n    '\\u1EBA': 'E',\n    '\\u011A': 'E',\n    '\\u0204': 'E',\n    '\\u0206': 'E',\n    '\\u1EB8': 'E',\n    '\\u1EC6': 'E',\n    '\\u0228': 'E',\n    '\\u1E1C': 'E',\n    '\\u0118': 'E',\n    '\\u1E18': 'E',\n    '\\u1E1A': 'E',\n    '\\u0190': 'E',\n    '\\u018E': 'E',\n    '\\u24BB': 'F',\n    '\\uFF26': 'F',\n    '\\u1E1E': 'F',\n    '\\u0191': 'F',\n    '\\uA77B': 'F',\n    '\\u24BC': 'G',\n    '\\uFF27': 'G',\n    '\\u01F4': 'G',\n    '\\u011C': 'G',\n    '\\u1E20': 'G',\n    '\\u011E': 'G',\n    '\\u0120': 'G',\n    '\\u01E6': 'G',\n    '\\u0122': 'G',\n    '\\u01E4': 'G',\n    '\\u0193': 'G',\n    '\\uA7A0': 'G',\n    '\\uA77D': 'G',\n    '\\uA77E': 'G',\n    '\\u24BD': 'H',\n    '\\uFF28': 'H',\n    '\\u0124': 'H',\n    '\\u1E22': 'H',\n    '\\u1E26': 'H',\n    '\\u021E': 'H',\n    '\\u1E24': 'H',\n    '\\u1E28': 'H',\n    '\\u1E2A': 'H',\n    '\\u0126': 'H',\n    '\\u2C67': 'H',\n    '\\u2C75': 'H',\n    '\\uA78D': 'H',\n    '\\u24BE': 'I',\n    '\\uFF29': 'I',\n    '\\u00CC': 'I',\n    '\\u00CD': 'I',\n    '\\u00CE': 'I',\n    '\\u0128': 'I',\n    '\\u012A': 'I',\n    '\\u012C': 'I',\n    '\\u0130': 'I',\n    '\\u00CF': 'I',\n    '\\u1E2E': 'I',\n    '\\u1EC8': 'I',\n    '\\u01CF': 'I',\n    '\\u0208': 'I',\n    '\\u020A': 'I',\n    '\\u1ECA': 'I',\n    '\\u012E': 'I',\n    '\\u1E2C': 'I',\n    '\\u0197': 'I',\n    '\\u24BF': 'J',\n    '\\uFF2A': 'J',\n    '\\u0134': 'J',\n    '\\u0248': 'J',\n    '\\u24C0': 'K',\n    '\\uFF2B': 'K',\n    '\\u1E30': 'K',\n    '\\u01E8': 'K',\n    '\\u1E32': 'K',\n    '\\u0136': 'K',\n    '\\u1E34': 'K',\n    '\\u0198': 'K',\n    '\\u2C69': 'K',\n    '\\uA740': 'K',\n    '\\uA742': 'K',\n    '\\uA744': 'K',\n    '\\uA7A2': 'K',\n    '\\u24C1': 'L',\n    '\\uFF2C': 'L',\n    '\\u013F': 'L',\n    '\\u0139': 'L',\n    '\\u013D': 'L',\n    '\\u1E36': 'L',\n    '\\u1E38': 'L',\n    '\\u013B': 'L',\n    '\\u1E3C': 'L',\n    '\\u1E3A': 'L',\n    '\\u0141': 'L',\n    '\\u023D': 'L',\n    '\\u2C62': 'L',\n    '\\u2C60': 'L',\n    '\\uA748': 'L',\n    '\\uA746': 'L',\n    '\\uA780': 'L',\n    '\\u01C7': 'LJ',\n    '\\u01C8': 'Lj',\n    '\\u24C2': 'M',\n    '\\uFF2D': 'M',\n    '\\u1E3E': 'M',\n    '\\u1E40': 'M',\n    '\\u1E42': 'M',\n    '\\u2C6E': 'M',\n    '\\u019C': 'M',\n    '\\u24C3': 'N',\n    '\\uFF2E': 'N',\n    '\\u01F8': 'N',\n    '\\u0143': 'N',\n    '\\u00D1': 'N',\n    '\\u1E44': 'N',\n    '\\u0147': 'N',\n    '\\u1E46': 'N',\n    '\\u0145': 'N',\n    '\\u1E4A': 'N',\n    '\\u1E48': 'N',\n    '\\u0220': 'N',\n    '\\u019D': 'N',\n    '\\uA790': 'N',\n    '\\uA7A4': 'N',\n    '\\u01CA': 'NJ',\n    '\\u01CB': 'Nj',\n    '\\u24C4': 'O',\n    '\\uFF2F': 'O',\n    '\\u00D2': 'O',\n    '\\u00D3': 'O',\n    '\\u00D4': 'O',\n    '\\u1ED2': 'O',\n    '\\u1ED0': 'O',\n    '\\u1ED6': 'O',\n    '\\u1ED4': 'O',\n    '\\u00D5': 'O',\n    '\\u1E4C': 'O',\n    '\\u022C': 'O',\n    '\\u1E4E': 'O',\n    '\\u014C': 'O',\n    '\\u1E50': 'O',\n    '\\u1E52': 'O',\n    '\\u014E': 'O',\n    '\\u022E': 'O',\n    '\\u0230': 'O',\n    '\\u00D6': 'O',\n    '\\u022A': 'O',\n    '\\u1ECE': 'O',\n    '\\u0150': 'O',\n    '\\u01D1': 'O',\n    '\\u020C': 'O',\n    '\\u020E': 'O',\n    '\\u01A0': 'O',\n    '\\u1EDC': 'O',\n    '\\u1EDA': 'O',\n    '\\u1EE0': 'O',\n    '\\u1EDE': 'O',\n    '\\u1EE2': 'O',\n    '\\u1ECC': 'O',\n    '\\u1ED8': 'O',\n    '\\u01EA': 'O',\n    '\\u01EC': 'O',\n    '\\u00D8': 'O',\n    '\\u01FE': 'O',\n    '\\u0186': 'O',\n    '\\u019F': 'O',\n    '\\uA74A': 'O',\n    '\\uA74C': 'O',\n    '\\u01A2': 'OI',\n    '\\uA74E': 'OO',\n    '\\u0222': 'OU',\n    '\\u24C5': 'P',\n    '\\uFF30': 'P',\n    '\\u1E54': 'P',\n    '\\u1E56': 'P',\n    '\\u01A4': 'P',\n    '\\u2C63': 'P',\n    '\\uA750': 'P',\n    '\\uA752': 'P',\n    '\\uA754': 'P',\n    '\\u24C6': 'Q',\n    '\\uFF31': 'Q',\n    '\\uA756': 'Q',\n    '\\uA758': 'Q',\n    '\\u024A': 'Q',\n    '\\u24C7': 'R',\n    '\\uFF32': 'R',\n    '\\u0154': 'R',\n    '\\u1E58': 'R',\n    '\\u0158': 'R',\n    '\\u0210': 'R',\n    '\\u0212': 'R',\n    '\\u1E5A': 'R',\n    '\\u1E5C': 'R',\n    '\\u0156': 'R',\n    '\\u1E5E': 'R',\n    '\\u024C': 'R',\n    '\\u2C64': 'R',\n    '\\uA75A': 'R',\n    '\\uA7A6': 'R',\n    '\\uA782': 'R',\n    '\\u24C8': 'S',\n    '\\uFF33': 'S',\n    '\\u1E9E': 'S',\n    '\\u015A': 'S',\n    '\\u1E64': 'S',\n    '\\u015C': 'S',\n    '\\u1E60': 'S',\n    '\\u0160': 'S',\n    '\\u1E66': 'S',\n    '\\u1E62': 'S',\n    '\\u1E68': 'S',\n    '\\u0218': 'S',\n    '\\u015E': 'S',\n    '\\u2C7E': 'S',\n    '\\uA7A8': 'S',\n    '\\uA784': 'S',\n    '\\u24C9': 'T',\n    '\\uFF34': 'T',\n    '\\u1E6A': 'T',\n    '\\u0164': 'T',\n    '\\u1E6C': 'T',\n    '\\u021A': 'T',\n    '\\u0162': 'T',\n    '\\u1E70': 'T',\n    '\\u1E6E': 'T',\n    '\\u0166': 'T',\n    '\\u01AC': 'T',\n    '\\u01AE': 'T',\n    '\\u023E': 'T',\n    '\\uA786': 'T',\n    '\\uA728': 'TZ',\n    '\\u24CA': 'U',\n    '\\uFF35': 'U',\n    '\\u00D9': 'U',\n    '\\u00DA': 'U',\n    '\\u00DB': 'U',\n    '\\u0168': 'U',\n    '\\u1E78': 'U',\n    '\\u016A': 'U',\n    '\\u1E7A': 'U',\n    '\\u016C': 'U',\n    '\\u00DC': 'U',\n    '\\u01DB': 'U',\n    '\\u01D7': 'U',\n    '\\u01D5': 'U',\n    '\\u01D9': 'U',\n    '\\u1EE6': 'U',\n    '\\u016E': 'U',\n    '\\u0170': 'U',\n    '\\u01D3': 'U',\n    '\\u0214': 'U',\n    '\\u0216': 'U',\n    '\\u01AF': 'U',\n    '\\u1EEA': 'U',\n    '\\u1EE8': 'U',\n    '\\u1EEE': 'U',\n    '\\u1EEC': 'U',\n    '\\u1EF0': 'U',\n    '\\u1EE4': 'U',\n    '\\u1E72': 'U',\n    '\\u0172': 'U',\n    '\\u1E76': 'U',\n    '\\u1E74': 'U',\n    '\\u0244': 'U',\n    '\\u24CB': 'V',\n    '\\uFF36': 'V',\n    '\\u1E7C': 'V',\n    '\\u1E7E': 'V',\n    '\\u01B2': 'V',\n    '\\uA75E': 'V',\n    '\\u0245': 'V',\n    '\\uA760': 'VY',\n    '\\u24CC': 'W',\n    '\\uFF37': 'W',\n    '\\u1E80': 'W',\n    '\\u1E82': 'W',\n    '\\u0174': 'W',\n    '\\u1E86': 'W',\n    '\\u1E84': 'W',\n    '\\u1E88': 'W',\n    '\\u2C72': 'W',\n    '\\u24CD': 'X',\n    '\\uFF38': 'X',\n    '\\u1E8A': 'X',\n    '\\u1E8C': 'X',\n    '\\u24CE': 'Y',\n    '\\uFF39': 'Y',\n    '\\u1EF2': 'Y',\n    '\\u00DD': 'Y',\n    '\\u0176': 'Y',\n    '\\u1EF8': 'Y',\n    '\\u0232': 'Y',\n    '\\u1E8E': 'Y',\n    '\\u0178': 'Y',\n    '\\u1EF6': 'Y',\n    '\\u1EF4': 'Y',\n    '\\u01B3': 'Y',\n    '\\u024E': 'Y',\n    '\\u1EFE': 'Y',\n    '\\u24CF': 'Z',\n    '\\uFF3A': 'Z',\n    '\\u0179': 'Z',\n    '\\u1E90': 'Z',\n    '\\u017B': 'Z',\n    '\\u017D': 'Z',\n    '\\u1E92': 'Z',\n    '\\u1E94': 'Z',\n    '\\u01B5': 'Z',\n    '\\u0224': 'Z',\n    '\\u2C7F': 'Z',\n    '\\u2C6B': 'Z',\n    '\\uA762': 'Z',\n    '\\u24D0': 'a',\n    '\\uFF41': 'a',\n    '\\u1E9A': 'a',\n    '\\u00E0': 'a',\n    '\\u00E1': 'a',\n    '\\u00E2': 'a',\n    '\\u1EA7': 'a',\n    '\\u1EA5': 'a',\n    '\\u1EAB': 'a',\n    '\\u1EA9': 'a',\n    '\\u00E3': 'a',\n    '\\u0101': 'a',\n    '\\u0103': 'a',\n    '\\u1EB1': 'a',\n    '\\u1EAF': 'a',\n    '\\u1EB5': 'a',\n    '\\u1EB3': 'a',\n    '\\u0227': 'a',\n    '\\u01E1': 'a',\n    '\\u00E4': 'a',\n    '\\u01DF': 'a',\n    '\\u1EA3': 'a',\n    '\\u00E5': 'a',\n    '\\u01FB': 'a',\n    '\\u01CE': 'a',\n    '\\u0201': 'a',\n    '\\u0203': 'a',\n    '\\u1EA1': 'a',\n    '\\u1EAD': 'a',\n    '\\u1EB7': 'a',\n    '\\u1E01': 'a',\n    '\\u0105': 'a',\n    '\\u2C65': 'a',\n    '\\u0250': 'a',\n    '\\uA733': 'aa',\n    '\\u00E6': 'ae',\n    '\\u01FD': 'ae',\n    '\\u01E3': 'ae',\n    '\\uA735': 'ao',\n    '\\uA737': 'au',\n    '\\uA739': 'av',\n    '\\uA73B': 'av',\n    '\\uA73D': 'ay',\n    '\\u24D1': 'b',\n    '\\uFF42': 'b',\n    '\\u1E03': 'b',\n    '\\u1E05': 'b',\n    '\\u1E07': 'b',\n    '\\u0180': 'b',\n    '\\u0183': 'b',\n    '\\u0253': 'b',\n    '\\u24D2': 'c',\n    '\\uFF43': 'c',\n    '\\u0107': 'c',\n    '\\u0109': 'c',\n    '\\u010B': 'c',\n    '\\u010D': 'c',\n    '\\u00E7': 'c',\n    '\\u1E09': 'c',\n    '\\u0188': 'c',\n    '\\u023C': 'c',\n    '\\uA73F': 'c',\n    '\\u2184': 'c',\n    '\\u24D3': 'd',\n    '\\uFF44': 'd',\n    '\\u1E0B': 'd',\n    '\\u010F': 'd',\n    '\\u1E0D': 'd',\n    '\\u1E11': 'd',\n    '\\u1E13': 'd',\n    '\\u1E0F': 'd',\n    '\\u0111': 'd',\n    '\\u018C': 'd',\n    '\\u0256': 'd',\n    '\\u0257': 'd',\n    '\\uA77A': 'd',\n    '\\u01F3': 'dz',\n    '\\u01C6': 'dz',\n    '\\u24D4': 'e',\n    '\\uFF45': 'e',\n    '\\u00E8': 'e',\n    '\\u00E9': 'e',\n    '\\u00EA': 'e',\n    '\\u1EC1': 'e',\n    '\\u1EBF': 'e',\n    '\\u1EC5': 'e',\n    '\\u1EC3': 'e',\n    '\\u1EBD': 'e',\n    '\\u0113': 'e',\n    '\\u1E15': 'e',\n    '\\u1E17': 'e',\n    '\\u0115': 'e',\n    '\\u0117': 'e',\n    '\\u00EB': 'e',\n    '\\u1EBB': 'e',\n    '\\u011B': 'e',\n    '\\u0205': 'e',\n    '\\u0207': 'e',\n    '\\u1EB9': 'e',\n    '\\u1EC7': 'e',\n    '\\u0229': 'e',\n    '\\u1E1D': 'e',\n    '\\u0119': 'e',\n    '\\u1E19': 'e',\n    '\\u1E1B': 'e',\n    '\\u0247': 'e',\n    '\\u025B': 'e',\n    '\\u01DD': 'e',\n    '\\u24D5': 'f',\n    '\\uFF46': 'f',\n    '\\u1E1F': 'f',\n    '\\u0192': 'f',\n    '\\uA77C': 'f',\n    '\\u24D6': 'g',\n    '\\uFF47': 'g',\n    '\\u01F5': 'g',\n    '\\u011D': 'g',\n    '\\u1E21': 'g',\n    '\\u011F': 'g',\n    '\\u0121': 'g',\n    '\\u01E7': 'g',\n    '\\u0123': 'g',\n    '\\u01E5': 'g',\n    '\\u0260': 'g',\n    '\\uA7A1': 'g',\n    '\\u1D79': 'g',\n    '\\uA77F': 'g',\n    '\\u24D7': 'h',\n    '\\uFF48': 'h',\n    '\\u0125': 'h',\n    '\\u1E23': 'h',\n    '\\u1E27': 'h',\n    '\\u021F': 'h',\n    '\\u1E25': 'h',\n    '\\u1E29': 'h',\n    '\\u1E2B': 'h',\n    '\\u1E96': 'h',\n    '\\u0127': 'h',\n    '\\u2C68': 'h',\n    '\\u2C76': 'h',\n    '\\u0265': 'h',\n    '\\u0195': 'hv',\n    '\\u24D8': 'i',\n    '\\uFF49': 'i',\n    '\\u00EC': 'i',\n    '\\u00ED': 'i',\n    '\\u00EE': 'i',\n    '\\u0129': 'i',\n    '\\u012B': 'i',\n    '\\u012D': 'i',\n    '\\u00EF': 'i',\n    '\\u1E2F': 'i',\n    '\\u1EC9': 'i',\n    '\\u01D0': 'i',\n    '\\u0209': 'i',\n    '\\u020B': 'i',\n    '\\u1ECB': 'i',\n    '\\u012F': 'i',\n    '\\u1E2D': 'i',\n    '\\u0268': 'i',\n    '\\u0131': 'i',\n    '\\u24D9': 'j',\n    '\\uFF4A': 'j',\n    '\\u0135': 'j',\n    '\\u01F0': 'j',\n    '\\u0249': 'j',\n    '\\u24DA': 'k',\n    '\\uFF4B': 'k',\n    '\\u1E31': 'k',\n    '\\u01E9': 'k',\n    '\\u1E33': 'k',\n    '\\u0137': 'k',\n    '\\u1E35': 'k',\n    '\\u0199': 'k',\n    '\\u2C6A': 'k',\n    '\\uA741': 'k',\n    '\\uA743': 'k',\n    '\\uA745': 'k',\n    '\\uA7A3': 'k',\n    '\\u24DB': 'l',\n    '\\uFF4C': 'l',\n    '\\u0140': 'l',\n    '\\u013A': 'l',\n    '\\u013E': 'l',\n    '\\u1E37': 'l',\n    '\\u1E39': 'l',\n    '\\u013C': 'l',\n    '\\u1E3D': 'l',\n    '\\u1E3B': 'l',\n    '\\u017F': 'l',\n    '\\u0142': 'l',\n    '\\u019A': 'l',\n    '\\u026B': 'l',\n    '\\u2C61': 'l',\n    '\\uA749': 'l',\n    '\\uA781': 'l',\n    '\\uA747': 'l',\n    '\\u01C9': 'lj',\n    '\\u24DC': 'm',\n    '\\uFF4D': 'm',\n    '\\u1E3F': 'm',\n    '\\u1E41': 'm',\n    '\\u1E43': 'm',\n    '\\u0271': 'm',\n    '\\u026F': 'm',\n    '\\u24DD': 'n',\n    '\\uFF4E': 'n',\n    '\\u01F9': 'n',\n    '\\u0144': 'n',\n    '\\u00F1': 'n',\n    '\\u1E45': 'n',\n    '\\u0148': 'n',\n    '\\u1E47': 'n',\n    '\\u0146': 'n',\n    '\\u1E4B': 'n',\n    '\\u1E49': 'n',\n    '\\u019E': 'n',\n    '\\u0272': 'n',\n    '\\u0149': 'n',\n    '\\uA791': 'n',\n    '\\uA7A5': 'n',\n    '\\u01CC': 'nj',\n    '\\u24DE': 'o',\n    '\\uFF4F': 'o',\n    '\\u00F2': 'o',\n    '\\u00F3': 'o',\n    '\\u00F4': 'o',\n    '\\u1ED3': 'o',\n    '\\u1ED1': 'o',\n    '\\u1ED7': 'o',\n    '\\u1ED5': 'o',\n    '\\u00F5': 'o',\n    '\\u1E4D': 'o',\n    '\\u022D': 'o',\n    '\\u1E4F': 'o',\n    '\\u014D': 'o',\n    '\\u1E51': 'o',\n    '\\u1E53': 'o',\n    '\\u014F': 'o',\n    '\\u022F': 'o',\n    '\\u0231': 'o',\n    '\\u00F6': 'o',\n    '\\u022B': 'o',\n    '\\u1ECF': 'o',\n    '\\u0151': 'o',\n    '\\u01D2': 'o',\n    '\\u020D': 'o',\n    '\\u020F': 'o',\n    '\\u01A1': 'o',\n    '\\u1EDD': 'o',\n    '\\u1EDB': 'o',\n    '\\u1EE1': 'o',\n    '\\u1EDF': 'o',\n    '\\u1EE3': 'o',\n    '\\u1ECD': 'o',\n    '\\u1ED9': 'o',\n    '\\u01EB': 'o',\n    '\\u01ED': 'o',\n    '\\u00F8': 'o',\n    '\\u01FF': 'o',\n    '\\u0254': 'o',\n    '\\uA74B': 'o',\n    '\\uA74D': 'o',\n    '\\u0275': 'o',\n    '\\u01A3': 'oi',\n    '\\u0223': 'ou',\n    '\\uA74F': 'oo',\n    '\\u24DF': 'p',\n    '\\uFF50': 'p',\n    '\\u1E55': 'p',\n    '\\u1E57': 'p',\n    '\\u01A5': 'p',\n    '\\u1D7D': 'p',\n    '\\uA751': 'p',\n    '\\uA753': 'p',\n    '\\uA755': 'p',\n    '\\u24E0': 'q',\n    '\\uFF51': 'q',\n    '\\u024B': 'q',\n    '\\uA757': 'q',\n    '\\uA759': 'q',\n    '\\u24E1': 'r',\n    '\\uFF52': 'r',\n    '\\u0155': 'r',\n    '\\u1E59': 'r',\n    '\\u0159': 'r',\n    '\\u0211': 'r',\n    '\\u0213': 'r',\n    '\\u1E5B': 'r',\n    '\\u1E5D': 'r',\n    '\\u0157': 'r',\n    '\\u1E5F': 'r',\n    '\\u024D': 'r',\n    '\\u027D': 'r',\n    '\\uA75B': 'r',\n    '\\uA7A7': 'r',\n    '\\uA783': 'r',\n    '\\u24E2': 's',\n    '\\uFF53': 's',\n    '\\u00DF': 's',\n    '\\u015B': 's',\n    '\\u1E65': 's',\n    '\\u015D': 's',\n    '\\u1E61': 's',\n    '\\u0161': 's',\n    '\\u1E67': 's',\n    '\\u1E63': 's',\n    '\\u1E69': 's',\n    '\\u0219': 's',\n    '\\u015F': 's',\n    '\\u023F': 's',\n    '\\uA7A9': 's',\n    '\\uA785': 's',\n    '\\u1E9B': 's',\n    '\\u24E3': 't',\n    '\\uFF54': 't',\n    '\\u1E6B': 't',\n    '\\u1E97': 't',\n    '\\u0165': 't',\n    '\\u1E6D': 't',\n    '\\u021B': 't',\n    '\\u0163': 't',\n    '\\u1E71': 't',\n    '\\u1E6F': 't',\n    '\\u0167': 't',\n    '\\u01AD': 't',\n    '\\u0288': 't',\n    '\\u2C66': 't',\n    '\\uA787': 't',\n    '\\uA729': 'tz',\n    '\\u24E4': 'u',\n    '\\uFF55': 'u',\n    '\\u00F9': 'u',\n    '\\u00FA': 'u',\n    '\\u00FB': 'u',\n    '\\u0169': 'u',\n    '\\u1E79': 'u',\n    '\\u016B': 'u',\n    '\\u1E7B': 'u',\n    '\\u016D': 'u',\n    '\\u00FC': 'u',\n    '\\u01DC': 'u',\n    '\\u01D8': 'u',\n    '\\u01D6': 'u',\n    '\\u01DA': 'u',\n    '\\u1EE7': 'u',\n    '\\u016F': 'u',\n    '\\u0171': 'u',\n    '\\u01D4': 'u',\n    '\\u0215': 'u',\n    '\\u0217': 'u',\n    '\\u01B0': 'u',\n    '\\u1EEB': 'u',\n    '\\u1EE9': 'u',\n    '\\u1EEF': 'u',\n    '\\u1EED': 'u',\n    '\\u1EF1': 'u',\n    '\\u1EE5': 'u',\n    '\\u1E73': 'u',\n    '\\u0173': 'u',\n    '\\u1E77': 'u',\n    '\\u1E75': 'u',\n    '\\u0289': 'u',\n    '\\u24E5': 'v',\n    '\\uFF56': 'v',\n    '\\u1E7D': 'v',\n    '\\u1E7F': 'v',\n    '\\u028B': 'v',\n    '\\uA75F': 'v',\n    '\\u028C': 'v',\n    '\\uA761': 'vy',\n    '\\u24E6': 'w',\n    '\\uFF57': 'w',\n    '\\u1E81': 'w',\n    '\\u1E83': 'w',\n    '\\u0175': 'w',\n    '\\u1E87': 'w',\n    '\\u1E85': 'w',\n    '\\u1E98': 'w',\n    '\\u1E89': 'w',\n    '\\u2C73': 'w',\n    '\\u24E7': 'x',\n    '\\uFF58': 'x',\n    '\\u1E8B': 'x',\n    '\\u1E8D': 'x',\n    '\\u24E8': 'y',\n    '\\uFF59': 'y',\n    '\\u1EF3': 'y',\n    '\\u00FD': 'y',\n    '\\u0177': 'y',\n    '\\u1EF9': 'y',\n    '\\u0233': 'y',\n    '\\u1E8F': 'y',\n    '\\u00FF': 'y',\n    '\\u1EF7': 'y',\n    '\\u1E99': 'y',\n    '\\u1EF5': 'y',\n    '\\u01B4': 'y',\n    '\\u024F': 'y',\n    '\\u1EFF': 'y',\n    '\\u24E9': 'z',\n    '\\uFF5A': 'z',\n    '\\u017A': 'z',\n    '\\u1E91': 'z',\n    '\\u017C': 'z',\n    '\\u017E': 'z',\n    '\\u1E93': 'z',\n    '\\u1E95': 'z',\n    '\\u01B6': 'z',\n    '\\u0225': 'z',\n    '\\u0240': 'z',\n    '\\u2C6C': 'z',\n    '\\uA763': 'z',\n    '\\u0386': '\\u0391',\n    '\\u0388': '\\u0395',\n    '\\u0389': '\\u0397',\n    '\\u038A': '\\u0399',\n    '\\u03AA': '\\u0399',\n    '\\u038C': '\\u039F',\n    '\\u038E': '\\u03A5',\n    '\\u03AB': '\\u03A5',\n    '\\u038F': '\\u03A9',\n    '\\u03AC': '\\u03B1',\n    '\\u03AD': '\\u03B5',\n    '\\u03AE': '\\u03B7',\n    '\\u03AF': '\\u03B9',\n    '\\u03CA': '\\u03B9',\n    '\\u0390': '\\u03B9',\n    '\\u03CC': '\\u03BF',\n    '\\u03CD': '\\u03C5',\n    '\\u03CB': '\\u03C5',\n    '\\u03B0': '\\u03C5',\n    '\\u03C9': '\\u03C9',\n    '\\u03C2': '\\u03C3'\n};\n\nexport function stripSpecialChars(text: string): string {\n    const match = (a: string): string => {\n        return diacritics[a] || a;\n    };\n    return text.replace(/[^\\u0000-\\u007E]/g, match);\n}\n","import { newId } from './id';\nimport { NgSelectComponent } from './ng-select.component';\nimport { NgOption } from './ng-select.types';\nimport * as searchHelper from './search-helper';\nimport { SelectionModel } from './selection-model';\nimport { isDefined, isFunction, isObject } from './value-utils';\n\ntype OptionGroups = Map<string | NgOption, NgOption[]>;\n\nexport class ItemsList {\n    private _groups: OptionGroups;\n\n    constructor(\n        private _ngSelect: NgSelectComponent,\n        private _selectionModel: SelectionModel) {\n    }\n\n    private _items: NgOption[] = [];\n\n    get items(): NgOption[] {\n        return this._items;\n    }\n\n    private _filteredItems: NgOption[] = [];\n\n    get filteredItems(): NgOption[] {\n        return this._filteredItems;\n    }\n\n    private _markedIndex = -1;\n\n    get markedIndex(): number {\n        return this._markedIndex;\n    }\n\n    get selectedItems() {\n        return this._selectionModel.value;\n    }\n\n    get markedItem(): NgOption {\n        return this._filteredItems[this._markedIndex];\n    }\n\n    get noItemsToSelect(): boolean {\n        return this._ngSelect.hideSelected && this._items.length === this.selectedItems.length;\n    }\n\n    get maxItemsSelected(): boolean {\n        return this._ngSelect.multiple && this._ngSelect.maxSelectedItems <= this.selectedItems.length;\n    }\n\n    get lastSelectedItem() {\n        let i = this.selectedItems.length - 1;\n        for (; i >= 0; i--) {\n            let item = this.selectedItems[i];\n            if (!item.disabled) {\n                return item;\n            }\n        }\n        return null;\n    }\n\n    setItems(items: any[]) {\n        this._items = items.map((item, index) => this.mapItem(item, index));\n        if (this._ngSelect.groupBy) {\n            this._groups = this._groupBy(this._items, this._ngSelect.groupBy);\n            this._items = this._flatten(this._groups);\n        } else {\n            this._groups = new Map();\n            this._groups.set(undefined, this._items)\n        }\n        this._filteredItems = [...this._items];\n    }\n\n    select(item: NgOption) {\n        if (item.selected || this.maxItemsSelected) {\n            return;\n        }\n        const multiple = this._ngSelect.multiple;\n        if (!multiple) {\n            this.clearSelected();\n        }\n\n        this._selectionModel.select(item, multiple, this._ngSelect.selectableGroupAsModel);\n        if (this._ngSelect.hideSelected) {\n            this._hideSelected(item);\n        }\n    }\n\n    unselect(item: NgOption) {\n        if (!item.selected) {\n            return;\n        }\n        this._selectionModel.unselect(item, this._ngSelect.multiple);\n        if (this._ngSelect.hideSelected && isDefined(item.index) && this._ngSelect.multiple) {\n            this._showSelected(item);\n        }\n    }\n\n    findItem(value: any): NgOption {\n        let findBy: (item: NgOption) => boolean;\n        if (this._ngSelect.compareWith) {\n            findBy = item => this._ngSelect.compareWith(item.value, value)\n        } else if (this._ngSelect.bindValue) {\n            findBy = item => !item.children && this.resolveNested(item.value, this._ngSelect.bindValue) === value\n        } else {\n            findBy = item => item.value === value ||\n                !item.children && item.label && item.label === this.resolveNested(value, this._ngSelect.bindLabel)\n        }\n        return this._items.find(item => findBy(item));\n    }\n\n    addItem(item: any) {\n        const option = this.mapItem(item, this._items.length);\n        this._items.push(option);\n        this._filteredItems.push(option);\n        return option;\n    }\n\n    clearSelected(keepDisabled = false) {\n        this._selectionModel.clear(keepDisabled);\n        this._items.forEach(item => {\n            item.selected = keepDisabled && item.selected && item.disabled;\n            item.marked = false;\n        });\n        if (this._ngSelect.hideSelected) {\n            this.resetFilteredItems();\n        }\n    }\n\n    findByLabel(term: string) {\n        term = searchHelper.stripSpecialChars(term).toLocaleLowerCase();\n        return this.filteredItems.find(item => {\n            const label = searchHelper.stripSpecialChars(item.label).toLocaleLowerCase();\n            return label.substr(0, term.length) === term;\n        });\n    }\n\n    filter(term: string): void {\n        if (!term) {\n            this.resetFilteredItems();\n            return;\n        }\n\n        this._filteredItems = [];\n        term = this._ngSelect.searchFn ? term : searchHelper.stripSpecialChars(term).toLocaleLowerCase();\n        const match = this._ngSelect.searchFn || this._defaultSearchFn;\n        const hideSelected = this._ngSelect.hideSelected;\n\n        for (const key of Array.from(this._groups.keys())) {\n            const matchedItems = [];\n            for (const item of this._groups.get(key)) {\n                if (hideSelected && (item.parent && item.parent.selected || item.selected)) {\n                    continue;\n                }\n                const searchItem = this._ngSelect.searchFn ? item.value : item;\n                if (match(term, searchItem)) {\n                    matchedItems.push(item);\n                }\n            }\n            if (matchedItems.length > 0) {\n                const [last] = matchedItems.slice(-1);\n                if (last.parent) {\n                    const head = this._items.find(x => x === last.parent);\n                    this._filteredItems.push(head);\n                }\n                this._filteredItems.push(...matchedItems);\n            }\n        }\n    }\n\n    resetFilteredItems() {\n        if (this._filteredItems.length === this._items.length) {\n            return;\n        }\n\n        if (this._ngSelect.hideSelected && this.selectedItems.length > 0) {\n            this._filteredItems = this._items.filter(x => !x.selected);\n        } else {\n            this._filteredItems = this._items;\n        }\n    }\n\n    unmarkItem() {\n        this._markedIndex = -1;\n    }\n\n    markNextItem() {\n        this._stepToItem(+1);\n    }\n\n    markPreviousItem() {\n        this._stepToItem(-1);\n    }\n\n    markItem(item: NgOption) {\n        this._markedIndex = this._filteredItems.indexOf(item);\n    }\n\n    markSelectedOrDefault(markDefault?: boolean) {\n        if (this._filteredItems.length === 0) {\n            return;\n        }\n\n        const lastMarkedIndex = this._getLastMarkedIndex();\n        if (lastMarkedIndex > -1) {\n            this._markedIndex = lastMarkedIndex;\n        } else {\n            this._markedIndex = markDefault ? this.filteredItems.findIndex(x => !x.disabled) : -1;\n        }\n    }\n\n    resolveNested(option: any, key: string): any {\n        if (!isObject(option)) {\n            return option;\n        }\n        if (key.indexOf('.') === -1) {\n            return option[key];\n        } else {\n            let keys: string[] = key.split('.');\n            let value = option;\n            for (let i = 0, len = keys.length; i < len; ++i) {\n                if (value == null) {\n                    return null;\n                }\n                value = value[keys[i]];\n            }\n            return value;\n        }\n    }\n\n    mapItem(item: any, index: number): NgOption {\n        const label = isDefined(item.$ngOptionLabel) ? item.$ngOptionLabel : this.resolveNested(item, this._ngSelect.bindLabel);\n        const value = isDefined(item.$ngOptionValue) ? item.$ngOptionValue : item;\n        return {\n            index: index,\n            label: isDefined(label) ? label.toString() : '',\n            value: value,\n            disabled: item.disabled,\n            htmlId: `${this._ngSelect.dropdownId}-${index}`,\n        };\n    }\n\n    mapSelectedItems() {\n        const multiple = this._ngSelect.multiple;\n        for (const selected of this.selectedItems) {\n            const value = this._ngSelect.bindValue ? this.resolveNested(selected.value, this._ngSelect.bindValue) : selected.value;\n            const item = isDefined(value) ? this.findItem(value) : null;\n            this._selectionModel.unselect(selected, multiple);\n            this._selectionModel.select(item || selected, multiple, this._ngSelect.selectableGroupAsModel);\n        }\n\n        if (this._ngSelect.hideSelected) {\n            this._filteredItems = this.filteredItems.filter(x => this.selectedItems.indexOf(x) === -1);\n        }\n    }\n\n    private _showSelected(item: NgOption) {\n        this._filteredItems.push(item);\n        if (item.parent) {\n            const parent = item.parent;\n            const parentExists = this._filteredItems.find(x => x === parent);\n            if (!parentExists) {\n                this._filteredItems.push(parent);\n            }\n        } else if (item.children) {\n            for (const child of item.children) {\n                child.selected = false;\n                this._filteredItems.push(child);\n            }\n        }\n        this._filteredItems = [...this._filteredItems.sort((a, b) => (a.index - b.index))];\n    }\n\n    private _hideSelected(item: NgOption) {\n        this._filteredItems = this._filteredItems.filter(x => x !== item);\n        if (item.parent) {\n            const children = item.parent.children;\n            if (children.every(x => x.selected)) {\n                this._filteredItems = this._filteredItems.filter(x => x !== item.parent);\n            }\n        } else if (item.children) {\n            this._filteredItems = this.filteredItems.filter(x => x.parent !== item);\n        }\n    }\n\n    private _defaultSearchFn(search: string, opt: NgOption) {\n        const label = searchHelper.stripSpecialChars(opt.label).toLocaleLowerCase();\n        return label.indexOf(search) > -1\n    }\n\n    private _getNextItemIndex(steps: number) {\n        if (steps > 0) {\n            return (this._markedIndex >= this._filteredItems.length - 1) ? 0 : (this._markedIndex + 1);\n        }\n        return (this._markedIndex <= 0) ? (this._filteredItems.length - 1) : (this._markedIndex - 1);\n    }\n\n    private _stepToItem(steps: number) {\n        if (this._filteredItems.length === 0 || this._filteredItems.every(x => x.disabled)) {\n            return;\n        }\n\n        this._markedIndex = this._getNextItemIndex(steps);\n        if (this.markedItem.disabled) {\n            this._stepToItem(steps);\n        }\n    }\n\n    private _getLastMarkedIndex() {\n        if (this._ngSelect.hideSelected) {\n            return -1;\n        }\n\n        if (this._markedIndex > -1 && this.markedItem === undefined) {\n            return -1;\n        }\n\n        const selectedIndex = this._filteredItems.indexOf(this.lastSelectedItem);\n        if (this.lastSelectedItem && selectedIndex < 0) {\n            return -1;\n        }\n\n        return Math.max(this.markedIndex, selectedIndex);\n    }\n\n    private _groupBy(items: NgOption[], prop: string | Function): OptionGroups {\n        const groups = new Map<string | NgOption, NgOption[]>();\n        if (items.length === 0) {\n            return groups;\n        }\n\n        // Check if items are already grouped by given key.\n        if (Array.isArray(items[0].value[<string>prop])) {\n            for (const item of items) {\n                const children = (item.value[<string>prop] || []).map((x, index) => this.mapItem(x, index));\n                groups.set(item, children);\n            }\n            return groups;\n        }\n\n        const isFnKey = isFunction(this._ngSelect.groupBy);\n        const keyFn = (item: NgOption) => {\n            let key = isFnKey ? (<Function>prop)(item.value) : item.value[<string>prop];\n            return isDefined(key) ? key : undefined;\n        };\n\n        // Group items by key.\n        for (const item of items) {\n            let key = keyFn(item);\n            const group = groups.get(key);\n            if (group) {\n                group.push(item);\n            } else {\n                groups.set(key, [item]);\n            }\n        }\n        return groups;\n    }\n\n    private _flatten(groups: OptionGroups) {\n        const isGroupByFn = isFunction(this._ngSelect.groupBy);\n        const items = [];\n        for (const key of Array.from(groups.keys())) {\n            let i = items.length;\n            if (key === undefined) {\n                const withoutGroup = groups.get(undefined) || [];\n                items.push(...withoutGroup.map(x => {\n                    x.index = i++;\n                    return x;\n                }));\n                continue;\n            }\n\n            const isObjectKey = isObject(key);\n            const parent: NgOption = {\n                label: isObjectKey ? '' : String(key),\n                children: undefined,\n                parent: null,\n                index: i++,\n                disabled: !this._ngSelect.selectableGroup,\n                htmlId: newId(),\n            };\n            const groupKey = isGroupByFn ? this._ngSelect.bindLabel : <string>this._ngSelect.groupBy;\n            const groupValue = this._ngSelect.groupValue || (() => {\n                if (isObjectKey) {\n                    return (<NgOption>key).value;\n                }\n                return { [groupKey]: key };\n            });\n            const children = groups.get(key).map(x => {\n                x.parent = parent;\n                x.children = undefined;\n                x.index = i++;\n                return x;\n            });\n            parent.children = children;\n            parent.value = groupValue(key, children.map(x => x.value));\n            items.push(parent);\n            items.push(...children);\n        }\n        return items;\n    }\n}\n","export interface NgOption {\n    [name: string]: any;\n    index?: number;\n    htmlId?: string;\n    selected?: boolean;\n    disabled?: boolean;\n    marked?: boolean;\n    label?: string;\n    value?: string | Object;\n    parent?: NgOption;\n    children?: NgOption[];\n}\n\nexport enum KeyCode {\n    Tab = 9,\n    Enter = 13,\n    Esc = 27,\n    Space = 32,\n    ArrowUp = 38,\n    ArrowDown = 40,\n    Backspace = 8\n}\n","import { Injectable } from '@angular/core';\nexport interface ItemsRangeResult {\n    scrollHeight: number;\n    topPadding: number;\n    start: number;\n    end: number;\n}\n\nexport interface PanelDimensions {\n    itemHeight: number;\n    panelHeight: number;\n    itemsPerViewport: number;\n}\n\n@Injectable()\nexport class NgDropdownPanelService {\n\n    private _dimensions: PanelDimensions = {\n        itemHeight: 0,\n        panelHeight: 0,\n        itemsPerViewport: 0\n    };\n\n    get dimensions() {\n        return this._dimensions;\n    }\n\n    calculateItems(scrollPos: number, itemsLength: number, buffer: number): ItemsRangeResult {\n        const d = this._dimensions;\n        const scrollHeight = d.itemHeight * itemsLength;\n\n        const scrollTop = Math.max(0, scrollPos);\n        const indexByScrollTop = scrollTop / scrollHeight * itemsLength;\n        let end = Math.min(itemsLength, Math.ceil(indexByScrollTop) + (d.itemsPerViewport + 1));\n\n        const maxStartEnd = end;\n        const maxStart = Math.max(0, maxStartEnd - d.itemsPerViewport);\n        let start = Math.min(maxStart, Math.floor(indexByScrollTop));\n\n        let topPadding = d.itemHeight * Math.ceil(start) - (d.itemHeight * Math.min(start, buffer));\n        topPadding = !isNaN(topPadding) ? topPadding : 0;\n        start = !isNaN(start) ? start : -1;\n        end = !isNaN(end) ? end : -1;\n        start -= buffer;\n        start = Math.max(0, start);\n        end += buffer;\n        end = Math.min(itemsLength, end);\n\n        return {\n            topPadding,\n            scrollHeight,\n            start,\n            end\n        }\n    }\n\n    setDimensions(itemHeight: number, panelHeight: number) {\n        const itemsPerViewport = Math.max(1, Math.floor(panelHeight / itemHeight));\n        this._dimensions = {\n            itemHeight,\n            panelHeight,\n            itemsPerViewport\n        };\n    }\n\n    getScrollTo(itemTop: number, itemHeight: number, lastScroll: number) {\n        const { panelHeight } = this.dimensions;\n        const itemBottom = itemTop + itemHeight;\n        const top = lastScroll;\n        const bottom = top + panelHeight;\n\n        if (panelHeight >= itemBottom && lastScroll === itemTop) {\n            return null;\n        }\n\n        if (itemBottom > bottom) {\n            return top + itemBottom - bottom;\n        } else if (itemTop <= top) {\n            return itemTop;\n        }\n\n        return null;\n    }\n}\n","import { DOCUMENT } from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    Inject,\n    Input,\n    NgZone,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Output,\n    Renderer2,\n    SimpleChanges,\n    TemplateRef,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { animationFrameScheduler, asapScheduler, fromEvent, merge, Subject } from 'rxjs';\nimport { auditTime, takeUntil } from 'rxjs/operators';\nimport { NgDropdownPanelService, PanelDimensions } from './ng-dropdown-panel.service';\n\nimport { DropdownPosition } from './ng-select.component';\nimport { NgOption } from './ng-select.types';\nimport { isDefined } from './value-utils';\n\nconst TOP_CSS_CLASS = 'ng-select-top';\nconst BOTTOM_CSS_CLASS = 'ng-select-bottom';\nconst SCROLL_SCHEDULER = typeof requestAnimationFrame !== 'undefined' ? animationFrameScheduler : asapScheduler;\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    selector: 'ng-dropdown-panel',\n    template: `\n        <div *ngIf=\"headerTemplate\" class=\"ng-dropdown-header\">\n            <ng-container [ngTemplateOutlet]=\"headerTemplate\" [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"></ng-container>\n        </div>\n        <div #scroll class=\"ng-dropdown-panel-items scroll-host\">\n            <div #padding [class.total-padding]=\"virtualScroll\"></div>\n            <div #content [class.scrollable-content]=\"virtualScroll && items.length\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n        <div *ngIf=\"footerTemplate\" class=\"ng-dropdown-footer\">\n            <ng-container [ngTemplateOutlet]=\"footerTemplate\" [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"></ng-container>\n        </div>\n    `\n})\nexport class NgDropdownPanelComponent implements OnInit, OnChanges, OnDestroy {\n\n    @Input() items: NgOption[] = [];\n    @Input() markedItem: NgOption;\n    @Input() position: DropdownPosition = 'auto';\n    @Input() appendTo: string;\n    @Input() bufferAmount;\n    @Input() virtualScroll = false;\n    @Input() headerTemplate: TemplateRef<any>;\n    @Input() footerTemplate: TemplateRef<any>;\n    @Input() filterValue: string = null;\n\n    @Output() update = new EventEmitter<any[]>();\n    @Output() scroll = new EventEmitter<{ start: number; end: number }>();\n    @Output() scrollToEnd = new EventEmitter<void>();\n    @Output() outsideClick = new EventEmitter<void>();\n\n    @ViewChild('content', { read: ElementRef, static: true }) contentElementRef: ElementRef;\n    @ViewChild('scroll', { read: ElementRef, static: true }) scrollElementRef: ElementRef;\n    @ViewChild('padding', { read: ElementRef, static: true }) paddingElementRef: ElementRef;\n\n    private readonly _destroy$ = new Subject<void>();\n    private readonly _dropdown: HTMLElement;\n    private _virtualPadding: HTMLElement;\n    private _scrollablePanel: HTMLElement;\n    private _contentPanel: HTMLElement;\n    private _select: HTMLElement;\n    private _parent: HTMLElement;\n    private _scrollToEndFired = false;\n    private _updateScrollHeight = false;\n    private _lastScrollPosition = 0;\n\n    constructor(\n        private _renderer: Renderer2,\n        private _zone: NgZone,\n        private _panelService: NgDropdownPanelService,\n        _elementRef: ElementRef,\n        @Optional() @Inject(DOCUMENT) private _document: any\n    ) {\n        this._dropdown = _elementRef.nativeElement;\n    }\n\n    private _currentPosition: DropdownPosition;\n\n    get currentPosition(): DropdownPosition {\n        return this._currentPosition;\n    }\n\n    private _itemsLength: number;\n\n    private get itemsLength() {\n        return this._itemsLength;\n    }\n\n    private set itemsLength(value: number) {\n        if (value !== this._itemsLength) {\n            this._itemsLength = value;\n            this._onItemsLengthChanged();\n        }\n    }\n\n    private get _startOffset() {\n        if (this.markedItem) {\n            const { itemHeight, panelHeight } = this._panelService.dimensions;\n            const offset = this.markedItem.index * itemHeight;\n            return panelHeight > offset ? 0 : offset;\n        }\n        return 0;\n    }\n\n    @HostListener('mousedown', ['$event'])\n    handleMousedown($event: MouseEvent) {\n        const target = $event.target as HTMLElement;\n        if (target.tagName === 'INPUT') {\n            return;\n        }\n        $event.preventDefault();\n    }\n\n    ngOnInit() {\n        this._select = this._dropdown.parentElement;\n        this._virtualPadding = this.paddingElementRef.nativeElement;\n        this._scrollablePanel = this.scrollElementRef.nativeElement;\n        this._contentPanel = this.contentElementRef.nativeElement;\n        this._handleScroll();\n        this._handleOutsideClick();\n        this._appendDropdown();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.items) {\n            const change = changes.items;\n            this._onItemsChange(change.currentValue, change.firstChange);\n        }\n    }\n\n    ngOnDestroy() {\n        this._destroy$.next();\n        this._destroy$.complete();\n        this._destroy$.unsubscribe();\n        if (this.appendTo) {\n            this._renderer.removeChild(this._dropdown.parentNode, this._dropdown);\n        }\n    }\n\n    scrollTo(option: NgOption, startFromOption = false) {\n        if (!option) {\n            return;\n        }\n\n        const index = this.items.indexOf(option);\n        if (index < 0 || index >= this.itemsLength) {\n            return;\n        }\n\n        let scrollTo;\n        if (this.virtualScroll) {\n            const itemHeight = this._panelService.dimensions.itemHeight;\n            scrollTo = this._panelService.getScrollTo(index * itemHeight, itemHeight, this._lastScrollPosition);\n        } else {\n            const item: HTMLElement = this._dropdown.querySelector(`#${option.htmlId}`);\n            const lastScroll = startFromOption ? item.offsetTop : this._lastScrollPosition;\n            scrollTo = this._panelService.getScrollTo(item.offsetTop, item.clientHeight, lastScroll);\n        }\n\n        if (isDefined(scrollTo)) {\n            this._scrollablePanel.scrollTop = scrollTo;\n        }\n    }\n\n    scrollToTag() {\n        const panel = this._scrollablePanel;\n        panel.scrollTop = panel.scrollHeight - panel.clientHeight;\n    }\n\n    adjustPosition() {\n        this._updateYPosition();\n    }\n\n    private _handleDropdownPosition() {\n        this._currentPosition = this._calculateCurrentPosition(this._dropdown);\n        if (this._currentPosition === 'top') {\n            this._renderer.addClass(this._dropdown, TOP_CSS_CLASS);\n            this._renderer.removeClass(this._dropdown, BOTTOM_CSS_CLASS);\n            this._renderer.addClass(this._select, TOP_CSS_CLASS);\n            this._renderer.removeClass(this._select, BOTTOM_CSS_CLASS)\n        } else {\n            this._renderer.addClass(this._dropdown, BOTTOM_CSS_CLASS);\n            this._renderer.removeClass(this._dropdown, TOP_CSS_CLASS);\n            this._renderer.addClass(this._select, BOTTOM_CSS_CLASS);\n            this._renderer.removeClass(this._select, TOP_CSS_CLASS);\n        }\n\n        if (this.appendTo) {\n            this._updateYPosition();\n        }\n\n        this._dropdown.style.opacity = '1';\n    }\n\n    private _handleScroll() {\n        this._zone.runOutsideAngular(() => {\n            fromEvent(this.scrollElementRef.nativeElement, 'scroll')\n                .pipe(takeUntil(this._destroy$), auditTime(0, SCROLL_SCHEDULER))\n                .subscribe((e: { path, composedPath, target }) => {\n                    const path = e.path || (e.composedPath && e.composedPath());\n                    const scrollTop = !path || path.length === 0 ? e.target.scrollTop : path[0].scrollTop\n                    this._onContentScrolled(scrollTop);\n                });\n        });\n    }\n\n    private _handleOutsideClick() {\n        if (!this._document) {\n            return;\n        }\n\n        this._zone.runOutsideAngular(() => {\n            merge(\n                fromEvent(this._document, 'touchstart', { capture: true }),\n                fromEvent(this._document, 'mousedown', { capture: true })\n            ).pipe(takeUntil(this._destroy$))\n                .subscribe($event => this._checkToClose($event));\n        });\n    }\n\n    private _checkToClose($event: any) {\n        if (this._select.contains($event.target) || this._dropdown.contains($event.target)) {\n            return;\n        }\n\n        const path = $event.path || ($event.composedPath && $event.composedPath());\n        if ($event.target && $event.target.shadowRoot && path && path[0] && this._select.contains(path[0])) {\n            return;\n        }\n\n        this._zone.run(() => this.outsideClick.emit());\n    }\n\n    private _onItemsChange(items: NgOption[], firstChange: boolean) {\n        this.items = items || [];\n        this._scrollToEndFired = false;\n        this.itemsLength = items.length;\n\n        if (this.virtualScroll) {\n            this._updateItemsRange(firstChange);\n        } else {\n            this._setVirtualHeight();\n            this._updateItems(firstChange);\n        }\n    }\n\n    private _updateItems(firstChange: boolean) {\n        this.update.emit(this.items);\n        if (firstChange === false) {\n            return;\n        }\n\n        this._zone.runOutsideAngular(() => {\n            Promise.resolve().then(() => {\n                const panelHeight = this._scrollablePanel.clientHeight;\n                this._panelService.setDimensions(0, panelHeight);\n                this._handleDropdownPosition();\n                this.scrollTo(this.markedItem, firstChange);\n            });\n        });\n    }\n\n    private _updateItemsRange(firstChange: boolean) {\n        this._zone.runOutsideAngular(() => {\n            this._measureDimensions().then(() => {\n                if (firstChange) {\n                    this._renderItemsRange(this._startOffset);\n                    this._handleDropdownPosition();\n                } else {\n                    this._renderItemsRange();\n                }\n            });\n        });\n    }\n\n    private _onContentScrolled(scrollTop: number) {\n        if (this.virtualScroll) {\n            this._renderItemsRange(scrollTop);\n        }\n        this._lastScrollPosition = scrollTop;\n        this._fireScrollToEnd(scrollTop);\n    }\n\n    private _updateVirtualHeight(height: number) {\n        if (this._updateScrollHeight) {\n            this._virtualPadding.style.height = `${height}px`;\n            this._updateScrollHeight = false;\n        }\n    }\n\n    private _setVirtualHeight() {\n\n        if (!this._virtualPadding) {\n            return;\n        }\n\n        this._virtualPadding.style.height = `0px`;\n    }\n\n    private _onItemsLengthChanged() {\n        this._updateScrollHeight = true;\n    }\n\n    private _renderItemsRange(scrollTop = null) {\n        if (scrollTop && this._lastScrollPosition === scrollTop) {\n            return;\n        }\n\n        scrollTop = scrollTop || this._scrollablePanel.scrollTop;\n        const range = this._panelService.calculateItems(scrollTop, this.itemsLength, this.bufferAmount);\n        this._updateVirtualHeight(range.scrollHeight);\n        this._contentPanel.style.transform = `translateY(${range.topPadding}px)`;\n\n        this._zone.run(() => {\n            this.update.emit(this.items.slice(range.start, range.end));\n            this.scroll.emit({ start: range.start, end: range.end });\n        });\n\n        if (isDefined(scrollTop) && this._lastScrollPosition === 0) {\n            this._scrollablePanel.scrollTop = scrollTop;\n            this._lastScrollPosition = scrollTop;\n        }\n    }\n\n    private _measureDimensions(): Promise<PanelDimensions> {\n        if (this._panelService.dimensions.itemHeight > 0 || this.itemsLength === 0) {\n            return Promise.resolve(this._panelService.dimensions);\n        }\n\n        const [first] = this.items;\n        this.update.emit([first]);\n\n        return Promise.resolve().then(() => {\n            const option = this._dropdown.querySelector(`#${first.htmlId}`);\n            const optionHeight = option.clientHeight;\n            this._virtualPadding.style.height = `${optionHeight * this.itemsLength}px`;\n            const panelHeight = this._scrollablePanel.clientHeight;\n            this._panelService.setDimensions(optionHeight, panelHeight);\n\n            return this._panelService.dimensions;\n        });\n    }\n\n    private _fireScrollToEnd(scrollTop: number) {\n        if (this._scrollToEndFired || scrollTop === 0) {\n            return;\n        }\n\n        const padding = this.virtualScroll ?\n            this._virtualPadding :\n            this._contentPanel;\n\n        if (scrollTop + this._dropdown.clientHeight >= padding.clientHeight) {\n            this._zone.run(() => this.scrollToEnd.emit());\n            this._scrollToEndFired = true;\n        }\n    }\n\n    private _calculateCurrentPosition(dropdownEl: HTMLElement) {\n        if (this.position !== 'auto') {\n            return this.position;\n        }\n        const selectRect: ClientRect = this._select.getBoundingClientRect();\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n        const offsetTop = selectRect.top + window.pageYOffset;\n        const height = selectRect.height;\n        const dropdownHeight = dropdownEl.getBoundingClientRect().height;\n        if (offsetTop + height + dropdownHeight > scrollTop + document.documentElement.clientHeight) {\n            return 'top';\n        } else {\n            return 'bottom';\n        }\n    }\n\n    private _appendDropdown() {\n        if (!this.appendTo) {\n            return;\n        }\n\n        this._parent = document.querySelector(this.appendTo);\n        if (!this._parent) {\n            throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);\n        }\n        this._updateXPosition();\n        this._parent.appendChild(this._dropdown);\n    }\n\n    private _updateXPosition() {\n        const select = this._select.getBoundingClientRect();\n        const parent = this._parent.getBoundingClientRect();\n        const offsetLeft = select.left - parent.left;\n\n        this._dropdown.style.left = offsetLeft + 'px';\n        this._dropdown.style.width = select.width + 'px';\n        this._dropdown.style.minWidth = select.width + 'px';\n    }\n\n    private _updateYPosition() {\n        const select = this._select.getBoundingClientRect();\n        const parent = this._parent.getBoundingClientRect();\n        const delta = select.height;\n\n        if (this._currentPosition === 'top') {\n            const offsetBottom = parent.bottom - select.bottom;\n            this._dropdown.style.bottom = offsetBottom + delta + 'px';\n            this._dropdown.style.top = 'auto';\n        } else if (this._currentPosition === 'bottom') {\n            const offsetTop = select.top - parent.top;\n            this._dropdown.style.top = offsetTop + delta + 'px';\n            this._dropdown.style.bottom = 'auto';\n        }\n    }\n}\n","import {\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    Input,\n    OnChanges,\n    OnDestroy,\n    SimpleChanges\n} from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Component({\n    selector: 'ng-option',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    template: `<ng-content></ng-content>`\n})\nexport class NgOptionComponent implements OnChanges, AfterViewChecked, OnDestroy {\n\n    @Input() value: any;\n    @Input()\n    get disabled() { return this._disabled; }\n    set disabled(value: any) { this._disabled = this._isDisabled(value) }\n\n    readonly stateChange$ = new Subject<{ value: any, disabled: boolean, label?: string }>();\n\n    private _disabled = false;\n    private _previousLabel: string;\n\n    constructor(public elementRef: ElementRef<HTMLElement>) { }\n\n    get label(): string {\n        return (this.elementRef.nativeElement.textContent || '').trim();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.disabled) {\n            this.stateChange$.next({\n                value: this.value,\n                disabled: this._disabled\n            });\n        }\n    }\n\n    ngAfterViewChecked() {\n        if (this.label !== this._previousLabel) {\n            this._previousLabel = this.label;\n            this.stateChange$.next({\n                value: this.value,\n                disabled: this._disabled,\n                label: this.elementRef.nativeElement.innerHTML\n            });\n        }\n    }\n\n    ngOnDestroy() {\n        this.stateChange$.complete();\n    }\n\n    private _isDisabled(value) {\n        return value != null && `${value}` !== 'false';\n    }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class NgSelectConfig {\n    placeholder: string;\n    notFoundText = 'No items found';\n    typeToSearchText = 'Type to search';\n    addTagText = 'Add item';\n    loadingText = 'Loading...';\n    clearAllText = 'Clear all';\n    disableVirtualScroll = true;\n    openOnEnter = true;\n    appendTo: string;\n    bindValue: string;\n    bindLabel: string;\n    appearance = 'underline';\n}\n","import {\n    Component,\n    OnDestroy,\n    OnChanges,\n    AfterViewInit,\n    forwardRef,\n    ChangeDetectorRef,\n    Input,\n    Output,\n    EventEmitter,\n    ContentChild,\n    TemplateRef,\n    ViewEncapsulation,\n    HostListener,\n    HostBinding,\n    ViewChild,\n    ElementRef,\n    ChangeDetectionStrategy,\n    Inject,\n    SimpleChanges,\n    ContentChildren,\n    QueryList,\n    InjectionToken,\n    Attribute\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { takeUntil, startWith, tap, debounceTime, map, filter } from 'rxjs/operators';\nimport { Subject, merge } from 'rxjs';\n\nimport {\n    NgOptionTemplateDirective,\n    NgLabelTemplateDirective,\n    NgHeaderTemplateDirective,\n    NgFooterTemplateDirective,\n    NgOptgroupTemplateDirective,\n    NgNotFoundTemplateDirective,\n    NgTypeToSearchTemplateDirective,\n    NgLoadingTextTemplateDirective,\n    NgMultiLabelTemplateDirective,\n    NgTagTemplateDirective,\n    NgLoadingSpinnerTemplateDirective\n} from './ng-templates.directive';\n\nimport { ConsoleService } from './console.service';\nimport { isDefined, isFunction, isPromise, isObject } from './value-utils';\nimport { ItemsList } from './items-list';\nimport { NgOption, KeyCode } from './ng-select.types';\nimport { newId } from './id';\nimport { NgDropdownPanelComponent } from './ng-dropdown-panel.component';\nimport { NgOptionComponent } from './ng-option.component';\nimport { SelectionModelFactory } from './selection-model';\nimport { NgSelectConfig } from './config.service';\nimport { NgDropdownPanelService } from './ng-dropdown-panel.service';\n\nexport const SELECTION_MODEL_FACTORY = new InjectionToken<SelectionModelFactory>('ng-select-selection-model');\nexport type DropdownPosition = 'bottom' | 'top' | 'auto';\nexport type AddTagFn = ((term: string) => any | Promise<any>);\nexport type CompareWithFn = (a: any, b: any) => boolean;\nexport type GroupValueFn = (key: string | object, children: any[]) => string | object;\n\n@Component({\n    selector: 'ng-select',\n    templateUrl: './ng-select.component.html',\n    styleUrls: ['./ng-select.component.scss'],\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => NgSelectComponent),\n        multi: true\n    }, NgDropdownPanelService],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        '[class.ng-select]': 'useDefaultClass',\n        '[class.ng-select-single]': '!multiple',\n    }\n})\nexport class NgSelectComponent implements OnDestroy, OnChanges, AfterViewInit, ControlValueAccessor {\n\n    @Input() bindLabel: string;\n    @Input() bindValue: string;\n    @Input() markFirst = true;\n    @Input() placeholder: string;\n    @Input() notFoundText: string;\n    @Input() typeToSearchText: string;\n    @Input() addTagText: string;\n    @Input() loadingText: string;\n    @Input() clearAllText: string;\n    @Input() appearance: string;\n    @Input() dropdownPosition: DropdownPosition = 'auto';\n    @Input() appendTo: string;\n    @Input() loading = false;\n    @Input() closeOnSelect = true;\n    @Input() hideSelected = false;\n    @Input() selectOnTab = false;\n    @Input() openOnEnter: boolean;\n    @Input() maxSelectedItems: number;\n    @Input() groupBy: string | Function;\n    @Input() groupValue: GroupValueFn;\n    @Input() bufferAmount = 4;\n    @Input() virtualScroll: boolean;\n    @Input() selectableGroup = false;\n    @Input() selectableGroupAsModel = true;\n    @Input() searchFn = null;\n    @Input() trackByFn = null;\n    @Input() clearOnBackspace = true;\n    @Input() labelForId = null;\n    @Input() inputAttrs: { [key: string]: string } = {};\n    @Input() tabIndex: number;\n    @Input() readonly = false;\n    @Input() searchWhileComposing = true;\n    @Input() minTermLength = 0;\n    @Input() editableSearchTerm = false;\n    @Input() keyDownFn = (_: KeyboardEvent) => true;\n\n    @Input() @HostBinding('class.ng-select-typeahead') typeahead: Subject<string>;\n    @Input() @HostBinding('class.ng-select-multiple') multiple = false;\n    @Input() @HostBinding('class.ng-select-taggable') addTag: boolean | AddTagFn = false;\n    @Input() @HostBinding('class.ng-select-searchable') searchable = true;\n    @Input() @HostBinding('class.ng-select-clearable') clearable = true;\n    @Input() @HostBinding('class.ng-select-opened') isOpen = false;\n\n    @Input()\n    get items() { return this._items };\n\n    set items(value: any[]) {\n        this._itemsAreUsed = true;\n        this._items = value;\n    };\n\n    @Input()\n    get compareWith() { return this._compareWith; }\n\n    set compareWith(fn: CompareWithFn) {\n        if (fn !== undefined && fn !== null && !isFunction(fn)) {\n            throw Error('`compareWith` must be a function.');\n        }\n        this._compareWith = fn;\n    }\n\n    @Input()\n    get clearSearchOnAdd() { return isDefined(this._clearSearchOnAdd) ? this._clearSearchOnAdd : this.closeOnSelect; };\n\n    set clearSearchOnAdd(value) {\n        this._clearSearchOnAdd = value;\n    };\n\n    // output events\n    @Output('blur') blurEvent = new EventEmitter();\n    @Output('focus') focusEvent = new EventEmitter();\n    @Output('change') changeEvent = new EventEmitter();\n    @Output('open') openEvent = new EventEmitter();\n    @Output('close') closeEvent = new EventEmitter();\n    @Output('search') searchEvent = new EventEmitter<{ term: string, items: any[] }>();\n    @Output('clear') clearEvent = new EventEmitter();\n    @Output('add') addEvent = new EventEmitter();\n    @Output('remove') removeEvent = new EventEmitter();\n    @Output('scroll') scroll = new EventEmitter<{ start: number; end: number }>();\n    @Output('scrollToEnd') scrollToEnd = new EventEmitter();\n\n    // custom templates\n    @ContentChild(NgOptionTemplateDirective, { read: TemplateRef }) optionTemplate: TemplateRef<any>;\n    @ContentChild(NgOptgroupTemplateDirective, { read: TemplateRef }) optgroupTemplate: TemplateRef<any>;\n    @ContentChild(NgLabelTemplateDirective, { read: TemplateRef }) labelTemplate: TemplateRef<any>;\n    @ContentChild(NgMultiLabelTemplateDirective, { read: TemplateRef }) multiLabelTemplate: TemplateRef<any>;\n    @ContentChild(NgHeaderTemplateDirective, { read: TemplateRef }) headerTemplate: TemplateRef<any>;\n    @ContentChild(NgFooterTemplateDirective, { read: TemplateRef }) footerTemplate: TemplateRef<any>;\n    @ContentChild(NgNotFoundTemplateDirective, { read: TemplateRef }) notFoundTemplate: TemplateRef<any>;\n    @ContentChild(NgTypeToSearchTemplateDirective, { read: TemplateRef }) typeToSearchTemplate: TemplateRef<any>;\n    @ContentChild(NgLoadingTextTemplateDirective, { read: TemplateRef }) loadingTextTemplate: TemplateRef<any>;\n    @ContentChild(NgTagTemplateDirective, { read: TemplateRef }) tagTemplate: TemplateRef<any>;\n    @ContentChild(NgLoadingSpinnerTemplateDirective, { read: TemplateRef }) loadingSpinnerTemplate: TemplateRef<any>;\n\n    @ViewChild(forwardRef(() => NgDropdownPanelComponent)) dropdownPanel: NgDropdownPanelComponent;\n    @ViewChild('searchInput', { static: true }) searchInput: ElementRef<HTMLInputElement>;\n    @ContentChildren(NgOptionComponent, { descendants: true }) ngOptions: QueryList<NgOptionComponent>;\n\n    @HostBinding('class.ng-select-disabled') get disabled() { return this.readonly || this._disabled };\n\n    @HostBinding('class.ng-select-filtered') get filtered() { return (!!this.searchTerm && this.searchable || this._isComposing) };\n\n    itemsList: ItemsList;\n    viewPortItems: NgOption[] = [];\n    searchTerm: string = null;\n    dropdownId = newId();\n    element: HTMLElement;\n    focused: boolean;\n    escapeHTML = true;\n    useDefaultClass = true;\n\n    private _items = [];\n    private _itemsAreUsed: boolean;\n    private _defaultLabel = 'label';\n    private _primitive;\n    private _manualOpen: boolean;\n    private _disabled: boolean;\n    private _pressedKeys: string[] = [];\n    private _compareWith: CompareWithFn;\n    private _clearSearchOnAdd: boolean;\n    private _isComposing = false;\n\n    private get _editableSearchTerm(): boolean {\n        return this.editableSearchTerm && !this.multiple;\n    }\n\n    private readonly _destroy$ = new Subject<void>();\n    private readonly _keyPress$ = new Subject<string>();\n    private _onChange = (_: any) => { };\n    private _onTouched = () => { };\n\n    clearItem = (item: any) => {\n        const option = this.selectedItems.find(x => x.value === item);\n        this.unselect(option);\n    };\n\n    constructor(\n        @Attribute('class') public classes: string,\n        @Attribute('autofocus') private autoFocus: any,\n        config: NgSelectConfig,\n        @Inject(SELECTION_MODEL_FACTORY) newSelectionModel: SelectionModelFactory,\n        _elementRef: ElementRef<HTMLElement>,\n        private _cd: ChangeDetectorRef,\n        private _console: ConsoleService\n    ) {\n        this._mergeGlobalConfig(config);\n        this.itemsList = new ItemsList(this, newSelectionModel());\n        this.element = _elementRef.nativeElement;\n    }\n\n    get selectedItems(): NgOption[] {\n        return this.itemsList.selectedItems;\n    }\n\n    get selectedValues() {\n        return this.selectedItems.map(x => x.value);\n    }\n\n    get hasValue() {\n        return this.selectedItems.length > 0;\n    }\n\n    get currentPanelPosition(): DropdownPosition {\n        if (this.dropdownPanel) {\n            return this.dropdownPanel.currentPosition;\n        }\n        return undefined;\n    }\n\n    ngOnInit() {\n        this._handleKeyPresses();\n        this._setInputAttributes();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.multiple) {\n            this.itemsList.clearSelected();\n        }\n        if (changes.items) {\n            this._setItems(changes.items.currentValue || []);\n        }\n        if (changes.isOpen) {\n            this._manualOpen = isDefined(changes.isOpen.currentValue);\n        }\n    }\n\n    ngAfterViewInit() {\n        if (!this._itemsAreUsed) {\n            this.escapeHTML = false;\n            this._setItemsFromNgOptions();\n        }\n\n        if (isDefined(this.autoFocus)) {\n            this.focus();\n        }\n    }\n\n    ngOnDestroy() {\n        this._destroy$.next();\n        this._destroy$.complete();\n    }\n\n    @HostListener('keydown', ['$event'])\n    handleKeyDown($event: KeyboardEvent) {\n        const keyCode = KeyCode[$event.which];\n        if (keyCode) {\n            if (this.keyDownFn($event) === false) {\n                return;\n            }\n            this.handleKeyCode($event)\n        } else if ($event.key && $event.key.length === 1) {\n            this._keyPress$.next($event.key.toLocaleLowerCase());\n        }\n    }\n\n    handleKeyCode($event: KeyboardEvent) {\n        switch ($event.which) {\n            case KeyCode.ArrowDown:\n                this._handleArrowDown($event);\n                break;\n            case KeyCode.ArrowUp:\n                this._handleArrowUp($event);\n                break;\n            case KeyCode.Space:\n                this._handleSpace($event);\n                break;\n            case KeyCode.Enter:\n                this._handleEnter($event);\n                break;\n            case KeyCode.Tab:\n                this._handleTab($event);\n                break;\n            case KeyCode.Esc:\n                this.close();\n                $event.preventDefault();\n                break;\n            case KeyCode.Backspace:\n                this._handleBackspace();\n                break\n        }\n    }\n\n    handleMousedown($event: MouseEvent) {\n        const target = $event.target as HTMLElement;\n        if (target.tagName !== 'INPUT') {\n            $event.preventDefault();\n        }\n\n        if (target.classList.contains('ng-clear-wrapper')) {\n            this.handleClearClick();\n            return;\n        }\n\n        if (target.classList.contains('ng-arrow-wrapper')) {\n            this.handleArrowClick();\n            return;\n        }\n\n        if (target.classList.contains('ng-value-icon')) {\n            return;\n        }\n\n        if (!this.focused) {\n            this.focus();\n        }\n\n        if (this.searchable) {\n            this.open();\n        } else {\n            this.toggle();\n        }\n    }\n\n    handleArrowClick() {\n        if (this.isOpen) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    handleClearClick() {\n        if (this.hasValue) {\n            this.itemsList.clearSelected(true);\n            this._updateNgModel();\n        }\n        this._clearSearch();\n        this.focus();\n        this.clearEvent.emit();\n\n        this._onSelectionChanged();\n    }\n\n    clearModel() {\n        if (!this.clearable) {\n            return;\n        }\n        this.itemsList.clearSelected();\n        this._updateNgModel();\n    }\n\n    writeValue(value: any | any[]): void {\n        this.itemsList.clearSelected();\n        this._handleWriteValue(value);\n        this._cd.markForCheck();\n    }\n\n    registerOnChange(fn: any): void {\n        this._onChange = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this._onTouched = fn;\n    }\n\n    setDisabledState(state: boolean): void {\n        this._disabled = state;\n        this._cd.markForCheck();\n    }\n\n    toggle() {\n        if (!this.isOpen) {\n            this.open();\n        } else {\n            this.close();\n        }\n    }\n\n    open() {\n        if (this.disabled || this.isOpen || this.itemsList.maxItemsSelected || this._manualOpen) {\n            return;\n        }\n\n        if (!this._isTypeahead && !this.addTag && this.itemsList.noItemsToSelect) {\n            return;\n        }\n        this.isOpen = true;\n        this.itemsList.markSelectedOrDefault(this.markFirst);\n        this.openEvent.emit();\n        if (!this.searchTerm) {\n            this.focus();\n        }\n        this.detectChanges();\n    }\n\n    close() {\n        if (!this.isOpen || this._manualOpen) {\n            return;\n        }\n        this.isOpen = false;\n        this._isComposing = false;\n        if (!this._editableSearchTerm) {\n            this._clearSearch();\n        } else {\n            this.itemsList.resetFilteredItems();\n        }\n        this.itemsList.unmarkItem();\n        this._onTouched();\n        this.closeEvent.emit();\n        this._cd.markForCheck();\n    }\n\n    toggleItem(item: NgOption) {\n        if (!item || item.disabled || this.disabled) {\n            return;\n        }\n\n        if (this.multiple && item.selected) {\n            this.unselect(item);\n        } else {\n            this.select(item);\n        }\n\n        if (this._editableSearchTerm) {\n            this._setSearchTermFromItems();\n        }\n\n        this._onSelectionChanged();\n    }\n\n    select(item: NgOption) {\n        if (!item.selected) {\n            this.itemsList.select(item);\n            if (this.clearSearchOnAdd && !this._editableSearchTerm) {\n                this._clearSearch();\n            }\n\n            this._updateNgModel();\n            if (this.multiple) {\n                this.addEvent.emit(item.value);\n            }\n        }\n\n        if (this.closeOnSelect || this.itemsList.noItemsToSelect) {\n            this.close();\n        }\n    }\n\n    focus() {\n        this.searchInput.nativeElement.focus();\n    }\n\n    blur() {\n        this.searchInput.nativeElement.blur();\n    }\n\n    unselect(item: NgOption) {\n        if (!item) {\n            return;\n        }\n\n        this.itemsList.unselect(item);\n        this.focus();\n        this._updateNgModel();\n        this.removeEvent.emit(item);\n    }\n\n    selectTag() {\n        let tag;\n        if (isFunction(this.addTag)) {\n            tag = (<AddTagFn>this.addTag)(this.searchTerm);\n        } else {\n            tag = this._primitive ? this.searchTerm : { [this.bindLabel]: this.searchTerm };\n        }\n\n        const handleTag = (item) => this._isTypeahead || !this.isOpen ? this.itemsList.mapItem(item, null) : this.itemsList.addItem(item);\n        if (isPromise(tag)) {\n            tag.then(item => this.select(handleTag(item))).catch(() => { });\n        } else if (tag) {\n            this.select(handleTag(tag));\n        }\n    }\n\n    showClear() {\n        return this.clearable && (this.hasValue || this.searchTerm) && !this.disabled;\n    }\n\n    trackByOption = (_: number, item: NgOption) => {\n        if (this.trackByFn) {\n            return this.trackByFn(item.value);\n        }\n\n        return item;\n    };\n\n    get showAddTag() {\n        if (!this._validTerm) {\n            return false;\n        }\n\n        const term = this.searchTerm.toLowerCase().trim();\n        return this.addTag &&\n            (!this.itemsList.filteredItems.some(x => x.label.toLowerCase() === term) &&\n                (!this.hideSelected && this.isOpen || !this.selectedItems.some(x => x.label.toLowerCase() === term))) &&\n            !this.loading;\n    }\n\n    showNoItemsFound() {\n        const empty = this.itemsList.filteredItems.length === 0;\n        return ((empty && !this._isTypeahead && !this.loading) ||\n            (empty && this._isTypeahead && this._validTerm && !this.loading)) &&\n            !this.showAddTag;\n    }\n\n    showTypeToSearch() {\n        const empty = this.itemsList.filteredItems.length === 0;\n        return empty && this._isTypeahead && !this._validTerm && !this.loading;\n    }\n\n    onCompositionStart() {\n        this._isComposing = true;\n    }\n\n    onCompositionEnd(term: string) {\n        this._isComposing = false;\n        if (this.searchWhileComposing) {\n            return;\n        }\n\n        this.filter(term);\n    }\n\n    filter(term: string) {\n        if (this._isComposing && !this.searchWhileComposing) {\n            return;\n        }\n\n        this.searchTerm = term;\n        if (this._isTypeahead && (this._validTerm || this.minTermLength === 0)) {\n            this.typeahead.next(term);\n        }\n\n        if (!this._isTypeahead) {\n            this.itemsList.filter(this.searchTerm);\n            if (this.isOpen) {\n                this.itemsList.markSelectedOrDefault(this.markFirst);\n            }\n        }\n\n        this.searchEvent.emit({ term, items: this.itemsList.filteredItems.map(x => x.value) });\n        this.open();\n    }\n\n    onInputFocus($event) {\n        if (this.focused) {\n            return;\n        }\n\n        if (this._editableSearchTerm) {\n            this._setSearchTermFromItems();\n        }\n\n        this.element.classList.add('ng-select-focused');\n        this.focusEvent.emit($event);\n        this.focused = true;\n    }\n\n    onInputBlur($event) {\n        this.element.classList.remove('ng-select-focused');\n        this.blurEvent.emit($event);\n        if (!this.isOpen && !this.disabled) {\n            this._onTouched();\n        }\n        if (this._editableSearchTerm) {\n            this._setSearchTermFromItems();\n        }\n        this.focused = false;\n    }\n\n    onItemHover(item: NgOption) {\n        if (item.disabled) {\n            return;\n        }\n        this.itemsList.markItem(item);\n    }\n\n    detectChanges() {\n        if (!(<any>this._cd).destroyed) {\n            this._cd.detectChanges();\n        }\n    }\n\n    private _setSearchTermFromItems() {\n        const selected = this.selectedItems && this.selectedItems[0];\n        this.searchTerm = (selected && selected.label) || null;\n    }\n\n    private _setItems(items: any[]) {\n        const firstItem = items[0];\n        this.bindLabel = this.bindLabel || this._defaultLabel;\n        this._primitive = isDefined(firstItem) ? !isObject(firstItem) : this._primitive || this.bindLabel === this._defaultLabel;\n        this.itemsList.setItems(items);\n        if (items.length > 0 && this.hasValue) {\n            this.itemsList.mapSelectedItems();\n        }\n        if (this.isOpen && isDefined(this.searchTerm) && !this._isTypeahead) {\n            this.itemsList.filter(this.searchTerm);\n        }\n        if (this._isTypeahead || this.isOpen) {\n            this.itemsList.markSelectedOrDefault(this.markFirst);\n        }\n    }\n\n    private _setItemsFromNgOptions() {\n        const mapNgOptions = (options: QueryList<NgOptionComponent>) => {\n            this.items = options.map(option => ({\n                $ngOptionValue: option.value,\n                $ngOptionLabel: option.elementRef.nativeElement.innerHTML,\n                disabled: option.disabled\n            }));\n            this.itemsList.setItems(this.items);\n            if (this.hasValue) {\n                this.itemsList.mapSelectedItems();\n            }\n            this.detectChanges();\n        };\n\n        const handleOptionChange = () => {\n            const changedOrDestroyed = merge(this.ngOptions.changes, this._destroy$);\n            merge(...this.ngOptions.map(option => option.stateChange$))\n                .pipe(takeUntil(changedOrDestroyed))\n                .subscribe(option => {\n                    const item = this.itemsList.findItem(option.value);\n                    item.disabled = option.disabled;\n                    item.label = option.label || item.label;\n                    this._cd.detectChanges();\n                });\n        };\n\n        this.ngOptions.changes\n            .pipe(startWith(this.ngOptions), takeUntil(this._destroy$))\n            .subscribe(options => {\n                this.bindLabel = this._defaultLabel;\n                mapNgOptions(options);\n                handleOptionChange();\n            });\n    }\n\n    private _isValidWriteValue(value: any): boolean {\n        if (!isDefined(value) || (this.multiple && value === '') || Array.isArray(value) && value.length === 0) {\n            return false;\n        }\n\n        const validateBinding = (item: any): boolean => {\n            if (!isDefined(this.compareWith) && isObject(item) && this.bindValue) {\n                this._console.warn(\n                    `Setting object(${JSON.stringify(item)}) as your model with bindValue is not allowed unless [compareWith] is used.`\n                );\n                return false;\n            }\n            return true;\n        };\n\n        if (this.multiple) {\n            if (!Array.isArray(value)) {\n                this._console.warn('Multiple select ngModel should be array.');\n                return false;\n            }\n            return value.every(item => validateBinding(item));\n        } else {\n            return validateBinding(value);\n        }\n    }\n\n    private _handleWriteValue(ngModel: any | any[]) {\n        if (!this._isValidWriteValue(ngModel)) {\n            return\n        }\n\n        const select = (val: any) => {\n            let item = this.itemsList.findItem(val);\n            if (item) {\n                this.itemsList.select(item);\n            } else {\n                const isValObject = isObject(val);\n                const isPrimitive = !isValObject && !this.bindValue;\n                if ((isValObject || isPrimitive)) {\n                    this.itemsList.select(this.itemsList.mapItem(val, null));\n                } else if (this.bindValue) {\n                    item = {\n                        [this.bindLabel]: null,\n                        [this.bindValue]: val\n                    };\n                    this.itemsList.select(this.itemsList.mapItem(item, null));\n                }\n            }\n        };\n\n        if (this.multiple) {\n            (<any[]>ngModel).forEach(item => select(item));\n        } else {\n            select(ngModel);\n        }\n    }\n\n    private _handleKeyPresses() {\n        if (this.searchable) {\n            return;\n        }\n\n        this._keyPress$\n            .pipe(takeUntil(this._destroy$),\n                tap(letter => this._pressedKeys.push(letter)),\n                debounceTime(200),\n                filter(() => this._pressedKeys.length > 0),\n                map(() => this._pressedKeys.join('')))\n            .subscribe(term => {\n                const item = this.itemsList.findByLabel(term);\n                if (item) {\n                    if (this.isOpen) {\n                        this.itemsList.markItem(item);\n                        this._scrollToMarked();\n                        this._cd.markForCheck();\n                    } else {\n                        this.select(item);\n                    }\n                }\n                this._pressedKeys = [];\n            });\n    }\n\n    private _setInputAttributes() {\n        const input = this.searchInput.nativeElement;\n        const attributes = {\n            type: 'text',\n            autocorrect: 'off',\n            autocapitalize: 'off',\n            autocomplete: this.labelForId ? 'off' : this.dropdownId,\n            ...this.inputAttrs\n        };\n\n        for (const key of Object.keys(attributes)) {\n            input.setAttribute(key, attributes[key]);\n        }\n    }\n\n    private _updateNgModel() {\n        const model = [];\n        for (const item of this.selectedItems) {\n            if (this.bindValue) {\n                let value = null;\n                if (item.children) {\n                    const groupKey = this.groupValue ? this.bindValue : <string>this.groupBy;\n                    value = item.value[groupKey || <string>this.groupBy];\n                } else {\n                    value = this.itemsList.resolveNested(item.value, this.bindValue);\n                }\n                model.push(value);\n            } else {\n                model.push(item.value);\n            }\n        }\n\n        const selected = this.selectedItems.map(x => x.value);\n        if (this.multiple) {\n            this._onChange(model);\n            this.changeEvent.emit(selected);\n        } else {\n            this._onChange(isDefined(model[0]) ? model[0] : null);\n            this.changeEvent.emit(selected[0]);\n        }\n\n        this._cd.markForCheck();\n    }\n\n    private _clearSearch() {\n        if (!this.searchTerm) {\n            return;\n        }\n\n        this._changeSearch(null);\n        this.itemsList.resetFilteredItems();\n    }\n\n    private _changeSearch(searchTerm: string) {\n        this.searchTerm = searchTerm;\n        if (this._isTypeahead) {\n            this.typeahead.next(searchTerm);\n        }\n    }\n\n    private _scrollToMarked() {\n        if (!this.isOpen || !this.dropdownPanel) {\n            return;\n        }\n        this.dropdownPanel.scrollTo(this.itemsList.markedItem);\n    }\n\n    private _scrollToTag() {\n        if (!this.isOpen || !this.dropdownPanel) {\n            return;\n        }\n        this.dropdownPanel.scrollToTag();\n    }\n\n    private _onSelectionChanged() {\n        if (this.isOpen && this.multiple && this.appendTo) {\n            // Make sure items are rendered.\n            this._cd.detectChanges();\n            this.dropdownPanel.adjustPosition();\n        }\n    }\n\n    private _handleTab($event: KeyboardEvent) {\n        if (this.isOpen === false && !this.addTag) {\n            return;\n        }\n\n        if (this.selectOnTab) {\n            if (this.itemsList.markedItem) {\n                this.toggleItem(this.itemsList.markedItem);\n                $event.preventDefault();\n            } else if (this.showAddTag) {\n                this.selectTag();\n                $event.preventDefault();\n            } else {\n                this.close();\n            }\n        } else {\n            this.close();\n        }\n    }\n\n    private _handleEnter($event: KeyboardEvent) {\n        if (this.isOpen || this._manualOpen) {\n            if (this.itemsList.markedItem) {\n                this.toggleItem(this.itemsList.markedItem);\n            } else if (this.showAddTag) {\n                this.selectTag();\n            }\n        } else if (this.openOnEnter) {\n            this.open();\n        } else {\n            return;\n        }\n\n        $event.preventDefault();\n    }\n\n    private _handleSpace($event: KeyboardEvent) {\n        if (this.isOpen || this._manualOpen) {\n            return;\n        }\n        this.open();\n        $event.preventDefault();\n    }\n\n    private _handleArrowDown($event: KeyboardEvent) {\n        if (this._nextItemIsTag(+1)) {\n            this.itemsList.unmarkItem();\n            this._scrollToTag();\n        } else {\n            this.itemsList.markNextItem();\n            this._scrollToMarked();\n        }\n        this.open();\n        $event.preventDefault();\n    }\n\n    private _handleArrowUp($event: KeyboardEvent) {\n        if (!this.isOpen) {\n            return;\n        }\n\n        if (this._nextItemIsTag(-1)) {\n            this.itemsList.unmarkItem();\n            this._scrollToTag();\n        } else {\n            this.itemsList.markPreviousItem();\n            this._scrollToMarked();\n        }\n        $event.preventDefault();\n    }\n\n    private _nextItemIsTag(nextStep: number): boolean {\n        const nextIndex = this.itemsList.markedIndex + nextStep;\n        return this.addTag && this.searchTerm\n            && this.itemsList.markedItem\n            && (nextIndex < 0 || nextIndex === this.itemsList.filteredItems.length)\n    }\n\n    private _handleBackspace() {\n        if (this.searchTerm || !this.clearable || !this.clearOnBackspace || !this.hasValue) {\n            return;\n        }\n\n        if (this.multiple) {\n            this.unselect(this.itemsList.lastSelectedItem);\n        } else {\n            this.clearModel();\n        }\n    }\n\n    private get _isTypeahead() {\n        return this.typeahead && this.typeahead.observers.length > 0;\n    }\n\n    private get _validTerm() {\n        const term = this.searchTerm && this.searchTerm.trim();\n        return term && term.length >= this.minTermLength;\n    }\n\n    private _mergeGlobalConfig(config: NgSelectConfig) {\n        this.placeholder = this.placeholder || config.placeholder;\n        this.notFoundText = this.notFoundText || config.notFoundText;\n        this.typeToSearchText = this.typeToSearchText || config.typeToSearchText;\n        this.addTagText = this.addTagText || config.addTagText;\n        this.loadingText = this.loadingText || config.loadingText;\n        this.clearAllText = this.clearAllText || config.clearAllText;\n        this.virtualScroll = isDefined(this.virtualScroll)\n            ? this.virtualScroll\n            : isDefined(config.disableVirtualScroll) ? !config.disableVirtualScroll : false;\n        this.openOnEnter = isDefined(this.openOnEnter) ? this.openOnEnter : config.openOnEnter;\n        this.appendTo = this.appendTo || config.appendTo;\n        this.bindValue = this.bindValue || config.bindValue;\n        this.bindLabel = this.bindLabel || config.bindLabel;\n        this.appearance = this.appearance || config.appearance;\n    }\n}\n","import { NgOption } from './ng-select.types';\n\nexport type SelectionModelFactory = () => SelectionModel;\n\nexport function DefaultSelectionModelFactory() {\n    return new DefaultSelectionModel();\n}\n\nexport interface SelectionModel {\n    value: NgOption[];\n    select(item: NgOption, multiple: boolean, selectableGroupAsModel: boolean);\n    unselect(item: NgOption, multiple: boolean);\n    clear(keepDisabled: boolean);\n}\n\nexport class DefaultSelectionModel implements SelectionModel {\n    private _selected: NgOption[] = [];\n\n    get value(): NgOption[] {\n        return this._selected;\n    }\n\n    select(item: NgOption, multiple: boolean, groupAsModel: boolean) {\n        item.selected = true;\n        if (!item.children || (!multiple && groupAsModel)) {\n            this._selected.push(item);\n        }\n        if (multiple) {\n            if (item.parent) {\n                const childrenCount = item.parent.children.length;\n                const selectedCount = item.parent.children.filter(x => x.selected).length;\n                item.parent.selected = childrenCount === selectedCount;\n            } else if (item.children) {\n                this._setChildrenSelectedState(item.children, true);\n                this._removeChildren(item);\n                if (groupAsModel && this._activeChildren(item)) {\n                    this._selected = [...this._selected.filter(x => x.parent !== item), item]\n                } else {\n                    this._selected = [...this._selected, ...item.children.filter(x => !x.disabled)];\n                }\n            }\n        }\n    }\n\n    unselect(item: NgOption, multiple: boolean) {\n        this._selected = this._selected.filter(x => x !== item);\n        item.selected = false;\n        if (multiple) {\n            if (item.parent && item.parent.selected) {\n                const children = item.parent.children;\n                this._removeParent(item.parent);\n                this._removeChildren(item.parent);\n                this._selected.push(...children.filter(x => x !== item && !x.disabled));\n                item.parent.selected = false;\n            } else if (item.children) {\n                this._setChildrenSelectedState(item.children, false);\n                this._removeChildren(item);\n            }\n        }\n    }\n\n    clear(keepDisabled: boolean) {\n        this._selected = keepDisabled ? this._selected.filter(x => x.disabled) : [];\n    }\n\n    private _setChildrenSelectedState(children: NgOption[], selected: boolean) {\n        for (const child of children) {\n            if (child.disabled) {\n                continue;\n            }\n            child.selected = selected;\n        };\n    }\n\n    private _removeChildren(parent: NgOption) {\n        this._selected = [\n            ...this._selected.filter(x => x.parent !== parent), \n            ...parent.children.filter(x => x.parent === parent && x.disabled && x.selected)\n        ];\n    }\n\n    private _removeParent(parent: NgOption) {\n        this._selected = this._selected.filter(x => x !== parent)\n    }\n\n    private _activeChildren(item: NgOption): boolean {\n        return item.children.every(x => !x.disabled || x.selected);\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgDropdownPanelComponent } from './ng-dropdown-panel.component';\nimport { NgOptionComponent } from './ng-option.component';\nimport { NgSelectComponent, SELECTION_MODEL_FACTORY } from './ng-select.component';\nimport {\n    NgFooterTemplateDirective,\n    NgHeaderTemplateDirective,\n    NgLabelTemplateDirective,\n    NgLoadingSpinnerTemplateDirective,\n    NgLoadingTextTemplateDirective,\n    NgMultiLabelTemplateDirective,\n    NgNotFoundTemplateDirective,\n    NgOptgroupTemplateDirective,\n    NgOptionTemplateDirective,\n    NgTagTemplateDirective,\n    NgItemLabelDirective,\n    NgTypeToSearchTemplateDirective\n} from './ng-templates.directive';\nimport { DefaultSelectionModelFactory } from './selection-model';\n\n@NgModule({\n    declarations: [\n        NgDropdownPanelComponent,\n        NgOptionComponent,\n        NgSelectComponent,\n        NgOptgroupTemplateDirective,\n        NgOptionTemplateDirective,\n        NgLabelTemplateDirective,\n        NgMultiLabelTemplateDirective,\n        NgHeaderTemplateDirective,\n        NgFooterTemplateDirective,\n        NgNotFoundTemplateDirective,\n        NgTypeToSearchTemplateDirective,\n        NgLoadingTextTemplateDirective,\n        NgTagTemplateDirective,\n        NgLoadingSpinnerTemplateDirective,\n        NgItemLabelDirective\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        NgSelectComponent,\n        NgOptionComponent,\n        NgOptgroupTemplateDirective,\n        NgOptionTemplateDirective,\n        NgLabelTemplateDirective,\n        NgMultiLabelTemplateDirective,\n        NgHeaderTemplateDirective,\n        NgFooterTemplateDirective,\n        NgNotFoundTemplateDirective,\n        NgTypeToSearchTemplateDirective,\n        NgLoadingTextTemplateDirective,\n        NgTagTemplateDirective,\n        NgLoadingSpinnerTemplateDirective\n    ],\n    providers: [\n        { provide: SELECTION_MODEL_FACTORY, useValue: DefaultSelectionModelFactory }\n    ]\n})\nexport class NgSelectModule {}\n"],"sourceRoot":""}